<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module 3: Philosopher Modeling Studio</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .model-node {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .model-node:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
        }
        
        .connection-line {
            stroke: #9333ea;
            stroke-width: 2;
            fill: none;
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="bg-gray-50">
    <div id="root"></div>

    <script type="text/babel" data-presets="env,react">
        const { useState, useEffect } = React;

        // Generate session ID
        const generateSessionId = () => {
            const date = new Date();
            const dateStr = date.toISOString().slice(0,10).replace(/-/g, '');
            const timeStr = date.toTimeString().slice(0,5).replace(/:/g, '');
            const random = Math.random().toString(36).substring(2, 8).toUpperCase();
            return `M3-${dateStr}-${timeStr}-${random}`;
        };

        // Philosopher database with diverse global representation
        const PHILOSOPHERS = {
            socrates: {
                name: "Socrates",
                era: "Ancient Greece (470-399 BCE)",
                region: "Western",
                image: "üèõÔ∏è",
                model: {
                    IK: "Examined life is the only life worth living; virtue is knowledge",
                    PRS_t: "Ethical questions revealed through dialectical questioning; appearances deceive",
                    SPTS: ["Athenian citizen", "Stonemason's son", "Gadfly of Athens", "Male philosopher"],
                    AH: "Grew up in democratic Athens; experienced Peloponnesian War; questioned sophists; executed by democracy",
                    BROAPlus: "Knowledge through dialogue; definitions must withstand scrutiny; virtue can be taught through questioning",
                    Cap: "Capacity for self-examination and moral reasoning present in everyone",
                    Capab: "Elenchus method - systematic questioning to reveal contradictions and unexamined beliefs",
                    Cons: "Dialogical practice; trained students like Plato; method persisted beyond his death",
                    MetaCons: "Limited - relied on memory of students to preserve; no systematic review of method",
                    Gates: "Required dialectical skill; oral culture; excluded those unable to engage in sustained argument"
                },
                keyInsights: [
                    "Made ethics central to philosophy - not just 'what is' but 'how should we live'",
                    "Method over doctrine - questioning more important than answers",
                    "Universal moral knowledge possible through reason and dialogue"
                ],
                limitations: [
                    "Required leisure and education for philosophical dialogue - excluded workers, slaves, women",
                    "Athenian male perspective shaped what counted as 'virtue'",
                    "Oral method meant fragility - knowledge lost if not recorded"
                ],
                whatRevealed: "Power of systematic questioning to reveal unexamined assumptions; ethics as rational inquiry",
                whatExcluded: "Perspectives of women, slaves, non-Greeks; practical wisdom of those without leisure; embodied knowledge"
            },
            
            maathai: {
                name: "Wangari Maathai",
                era: "Contemporary (1940-2011)",
                region: "Kenya/Africa",
                image: "üå≥",
                model: {
                    IK: "Environmental destruction is a human rights and women's issue; trees as symbols of democratic struggle",
                    PRS_t: "Sees connections invisible to Western environmentalism: deforestation ‚Üí poverty ‚Üí women's labor ‚Üí political oppression",
                    SPTS: ["Kenyan woman", "Kikuyu", "Environmental scientist", "Political activist", "Nobel laureate"],
                    AH: "Grew up in colonial Kenya; educated in biology (U.S.); experienced post-independence corruption; imprisonment for activism",
                    BROAPlus: "Indigenous ecological knowledge + Western science; women's labor as ecological work; democracy and environment linked",
                    Cap: "Women have capacity for environmental stewardship and political organizing",
                    Capab: "Community tree-planting as reliable method; linking local action to systemic change",
                    Cons: "Green Belt Movement (30M+ trees planted); movement persisted and expanded beyond founder",
                    MetaCons: "Movement adapted: trees ‚Üí women's rights ‚Üí democracy ‚Üí peace. Learning loops built into structure",
                    Gates: "Challenged: 'Environment = elite/expert domain', 'Women = not political actors', 'Local knowledge = primitive'"
                },
                keyInsights: [
                    "Environmental degradation and women's oppression are connected - same power structures",
                    "Local ecological action can be powerful political organizing",
                    "Indigenous knowledge and Western science can complement each other"
                ],
                limitations: [
                    "Movement faced government repression; scaling required institutional support",
                    "Gender-based organizing can essentialize 'women's roles'",
                    "Tension between local autonomy and movement coordination"
                ],
                whatRevealed: "Environmental ethics from African women's standpoint; connection between ecology, gender, and political freedom",
                whatExcluded: "Western environmentalism's 'wilderness preservation' excluded people who live in/with nature; male-dominated environmental movements"
            },

            mandela: {
                name: "Nelson Mandela",
                era: "Contemporary (1918-2013)",
                region: "South Africa/Africa",
                image: "üïäÔ∏è",
                model: {
                    IK: "Ubuntu - 'I am because we are'; justice as restoration not retribution; dignity of all humans",
                    PRS_t: "Sees possibility of reconciliation where others see only revenge; transformation over punishment",
                    SPTS: ["Black South African", "Xhosa", "Lawyer", "Political prisoner (27 years)", "President", "Reconciler"],
                    AH: "Apartheid oppression; armed resistance; Robben Island imprisonment; negotiated transition; led democracy",
                    BROAPlus: "Ubuntu philosophy + Western jurisprudence + Gandhian non-violence; relational ontology",
                    Cap: "Even oppressors have capacity for transformation; communities can heal",
                    Capab: "Truth and Reconciliation process as method; constitutional democracy with protections",
                    Cons: "TRC as institution (truth ‚Üí acknowledgment ‚Üí amnesty possibility); constitution with Bill of Rights",
                    MetaCons: "TRC itself was meta-constructor - reviewing past to build future; constitution designed for adaptation",
                    Gates: "Challenged: 'Justice = punishment'; included perpetrators as humans capable of change"
                },
                keyInsights: [
                    "Justice can be restorative, not just punitive - healing communities, not just punishing individuals",
                    "Ubuntu relational ontology - we are constituted by relationships, not isolated individuals",
                    "Former enemies can become fellow citizens through truth-telling and recognition"
                ],
                limitations: [
                    "TRC criticized for insufficient material reparations - recognition without redistribution",
                    "Some victims felt betrayed by amnesty process",
                    "Economic apartheid persisted despite political transformation"
                ],
                whatRevealed: "Alternative justice model from African philosophy; dignity-based rather than rights-based approach",
                whatExcluded: "Western punitive justice models; individualist ontology; abstract 'veil of ignorance' approaches"
            },

            simpson: {
                name: "Leanne Betasamosake Simpson",
                era: "Contemporary (1971-present)",
                region: "Michi Saagiig Nishnaabeg/Canada",
                image: "üå≤",
                model: {
                    IK: "Knowledge lives in land-tethered practice; resurgence not reconciliation; Nishnaabeg intelligence systems",
                    PRS_t: "Sees knowledge as seasonal, relational, place-based; land as pedagogy; practice as theory",
                    SPTS: ["Michi Saagiig Nishnaabeg woman", "Scholar", "Artist", "Land defender", "Mother"],
                    AH: "Generations of colonial disruption; cultural resurgence movements; language revitalization; ongoing land defense",
                    BROAPlus: "Nishnaabeg cosmology + critical theory; Indigenous governance systems; storytelling as methodology",
                    Cap: "Indigenous practices carry sophisticated epistemological, political, and ethical systems",
                    Capab: "Land-based education; seasonal rounds; ceremony; storytelling; language as worldview",
                    Cons: "Community-based learning; intergenerational knowledge transmission; place-based practices",
                    MetaCons: "Resurgence as continuous practice - not endpoint but process; adaptation while maintaining core",
                    Gates: "Challenged: 'Knowledge = text in universities'; 'Valid = universal & abstract'; 'Progress = leaving land'"
                },
                keyInsights: [
                    "Knowledge can be particular to place yet rigorous - not all knowledge is universal",
                    "Reconciliation without land return is empty; resurgence requires material transformation",
                    "Practice-based knowledge systems are sophisticated, not 'primitive'"
                ],
                limitations: [
                    "Requires access to land and community - colonial dispossession creates barriers",
                    "Challenge of transmitting land-based knowledge in urban settings",
                    "Risk of appropriation when sharing Indigenous knowledge systems"
                ],
                whatRevealed: "Non-textual, place-based epistemologies; critique of reconciliation discourse; Indigenous futures",
                whatExcluded: "Western assumption that valid knowledge must be abstract, universal, text-based, individual"
            },

            collins: {
                name: "Patricia Hill Collins",
                era: "Contemporary (1948-present)",
                region: "United States",
                image: "üìö",
                model: {
                    IK: "Intersectionality reveals matrix of domination; lived experience is legitimate knowledge; outsider-within position",
                    PRS_t: "Sees how race, gender, class interact - not additive but multiplicative; standpoint shapes knowledge",
                    SPTS: ["Black American woman", "Sociologist", "Working-class background", "Academic"],
                    AH: "Grew up in Philadelphia working-class Black community; education through segregation and integration; academic outsider-within",
                    BROAPlus: "Black feminist standpoint epistemology: concrete experience + dialogue + ethics of care + accountability",
                    Cap: "Black women have distinctive standpoint revealing truths invisible from other positions",
                    Capab: "Standpoint methodology; intersectional analysis; validating multiple forms of evidence",
                    Cons: "Black feminist thought as intellectual tradition; institutional presence in academy (journals, positions)",
                    MetaCons: "Intersectionality adapted to analyze multiple axes; outsider-within as ongoing reflective position",
                    Gates: "Challenged: 'Scholarly = only abstract/textual'; 'Objective = emotionally detached'; 'Experience ‚â† evidence'"
                },
                keyInsights: [
                    "Standpoint matters - what you can see depends on where you stand in systems of power",
                    "Intersectionality - race, gender, class create unique positions, not just combinations",
                    "Concrete experience, dialogue, care, and accountability are valid evidence bases"
                ],
                limitations: [
                    "Standpoint can become essentialized - not all Black women see same things",
                    "Tension between claiming distinctive standpoint and avoiding essentialism",
                    "Institutional inclusion brings risk of cooptation"
                ],
                whatRevealed: "Matrix of domination; intersectional analysis; lived experience as legitimate knowledge base",
                whatExcluded: "Traditional epistemology's rejection of situated knowledge and lived experience"
            },

            aristotle: {
                name: "Aristotle",
                era: "Ancient Greece (384-322 BCE)",
                region: "Western",
                image: "üìñ",
                model: {
                    IK: "Human flourishing (eudaimonia) through virtue; teleological nature; golden mean",
                    PRS_t: "Purpose/function reveals proper activity; observation + reason; virtue through habituation",
                    SPTS: ["Greek male", "Macedonian", "Philosopher", "Teacher", "Naturalist"],
                    AH: "Student of Plato; tutor to Alexander; founded Lyceum; systematic researcher across domains",
                    BROAPlus: "Empiricism + logic; systematic classification; virtue as excellence of function; practical wisdom",
                    Cap: "Humans have natural capacity for reason and virtue (but NOT slaves, barbarians, women fully)",
                    Capab: "Virtue ethics; systematic observation; logical analysis; classification systems",
                    Cons: "Lyceum as institution; systematic corpus; educational tradition persisting centuries",
                    MetaCons: "Limited - preserved through manuscripts but little adaptation mechanism; commentary tradition",
                    Gates: "Flourishing = free Greek males with leisure; slaves 'naturally' suited to servitude; women deficient in reason"
                },
                keyInsights: [
                    "Ethics tied to human function and flourishing, not just rules or consequences",
                    "Virtue developed through practice and habituation, not just knowledge",
                    "Practical wisdom (phronesis) essential for applying principles to particular situations"
                ],
                limitations: [
                    "Flourishing defined from perspective of free Greek male elite",
                    "Justified slavery and women's subordination as 'natural'",
                    "Required leisure for virtuous activity - excluded most of humanity"
                ],
                whatRevealed: "Virtue ethics as systematic framework; importance of character and habituation; teleological thinking",
                whatExcluded: "Perspectives of women, slaves, 'barbarians'; alternative conceptions of flourishing; non-hierarchical social orders"
            }
        };

        // Main App Component
        function App() {
            const [studentInfo, setStudentInfo] = useState({ name: '', email: '', course: '' });
            const [hasStarted, setHasStarted] = useState(false);
            const [currentSection, setCurrentSection] = useState('intro');
            const [sessionData, setSessionData] = useState(null);
            const [sectionProgress, setSectionProgress] = useState({});
            const [studentModels, setStudentModels] = useState({});
            const [currentModel, setCurrentModel] = useState(null);
            const [comparisonPair, setComparisonPair] = useState([null, null]);

            // Load saved progress
            useEffect(() => {
                const saved = localStorage.getItem('module3Progress');
                if (saved) {
                    const data = JSON.parse(saved);
                    if (data.hasStarted) {
                        setHasStarted(true);
                        setStudentInfo(data.studentInfo || {});
                        setCurrentSection(data.currentSection || 'intro');
                        setSessionData(data.sessionData || null);
                        setSectionProgress(data.sectionProgress || {});
                        setStudentModels(data.studentModels || {});
                    }
                }
            }, []);

            // Save progress
            useEffect(() => {
                if (hasStarted) {
                    localStorage.setItem('module3Progress', JSON.stringify({
                        hasStarted,
                        studentInfo,
                        currentSection,
                        sessionData,
                        sectionProgress,
                        studentModels
                    }));
                }
            }, [hasStarted, studentInfo, currentSection, sessionData, sectionProgress, studentModels]);

            const startModule = (info) => {
                const session = {
                    sessionId: generateSessionId(),
                    startTime: new Date().toISOString(),
                    completionTime: null
                };
                setStudentInfo(info);
                setSessionData(session);
                setHasStarted(true);
                
                const initialProgress = {};
                ['intro', 'os1os2', 'notation', 'exemplars', 'comparison', 'modeling', 'synthesis'].forEach(section => {
                    initialProgress[section] = {
                        started: section === 'intro',
                        startTime: section === 'intro' ? new Date().toISOString() : null,
                        endTime: null,
                        status: section === 'intro' ? 'in-progress' : 'not-started'
                    };
                });
                setSectionProgress(initialProgress);
            };

            const navigateToSection = (sectionId) => {
                if (sectionProgress[currentSection]) {
                    const startTime = new Date(sectionProgress[currentSection].startTime);
                    const now = new Date();
                    const timeSpent = Math.round((now - startTime) / 60000);
                    
                    setSectionProgress(prev => ({
                        ...prev,
                        [currentSection]: {
                            ...prev[currentSection],
                            endTime: now.toISOString(),
                            timeSpent
                        }
                    }));
                }

                if (sectionProgress[sectionId] && !sectionProgress[sectionId].started) {
                    setSectionProgress(prev => ({
                        ...prev,
                        [sectionId]: {
                            ...prev[sectionId],
                            started: true,
                            startTime: new Date().toISOString(),
                            status: 'in-progress'
                        }
                    }));
                }

                setCurrentSection(sectionId);
            };

            const completeSection = (sectionId, status = 'proficient') => {
                setSectionProgress(prev => ({
                    ...prev,
                    [sectionId]: {
                        ...prev[sectionId],
                        endTime: new Date().toISOString(),
                        status
                    }
                }));
            };

            const calculateProgress = () => {
                const sections = Object.keys(sectionProgress);
                if (sections.length === 0) return 0;
                const completed = sections.filter(s => 
                    ['proficient', 'mastered', 'developing'].includes(sectionProgress[s].status)
                ).length;
                return Math.round((completed / sections.length) * 100);
            };

            if (!hasStarted) {
                return <WelcomeScreen onStart={startModule} />;
            }

            const sections = [
                { id: 'intro', label: 'Introduction', icon: 'üéØ' },
                { id: 'os1os2', label: 'OS1/OS2 Framework', icon: 'üß†' },
                { id: 'notation', label: 'FAIM-QIRF Notation', icon: 'üìê' },
                { id: 'exemplars', label: 'Philosopher Exemplars', icon: 'üåç' },
                { id: 'comparison', label: 'Comparative Analysis', icon: '‚öñÔ∏è' },
                { id: 'modeling', label: 'Student Modeling', icon: '‚úèÔ∏è' },
                { id: 'synthesis', label: 'Synthesis & Completion', icon: 'üéì' }
            ];

            return (
                <div className="min-h-screen">
                    <header className="gradient-bg text-white shadow-lg">
                        <div className="max-w-7xl mx-auto px-4 py-6">
                            <div className="flex justify-between items-start">
                                <div>
                                    <h1 className="text-3xl font-bold mb-2">Module 3: Philosopher Modeling Studio</h1>
                                    <p className="text-lg opacity-90">Building Meta-Constructor Capacity Through Formal Modeling</p>
                                    <div className="mt-4 bg-white/20 rounded-full h-2 overflow-hidden">
                                        <div 
                                            className="bg-white h-full transition-all duration-300"
                                            style={{ width: `${calculateProgress()}%` }}
                                        ></div>
                                    </div>
                                    <p className="text-sm mt-2 opacity-80">{calculateProgress()}% Complete</p>
                                </div>
                                <button
                                    onClick={() => {
                                        if (window.confirm('Clear all progress and start over?')) {
                                            localStorage.removeItem('module3Progress');
                                            window.location.reload();
                                        }
                                    }}
                                    className="bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg font-semibold transition-colors"
                                >
                                    üîÑ Reset
                                </button>
                            </div>
                        </div>
                    </header>

                    <nav className="bg-white shadow-sm sticky top-0 z-50">
                        <div className="max-w-7xl mx-auto px-4">
                            <div className="flex overflow-x-auto py-4 space-x-2">
                                {sections.map(section => {
                                    const status = sectionProgress[section.id]?.status || 'not-started';
                                    const isCurrent = currentSection === section.id;
                                    
                                    return (
                                        <button
                                            key={section.id}
                                            onClick={() => navigateToSection(section.id)}
                                            className={`flex items-center space-x-2 px-4 py-2 rounded-lg whitespace-nowrap transition-all ${
                                                isCurrent ? 'bg-purple-100 text-purple-700 font-semibold' : 'hover:bg-gray-100'
                                            }`}
                                        >
                                            <span className="text-xl">{section.icon}</span>
                                            <span>{section.label}</span>
                                            {status === 'mastered' && <span>‚≠ê</span>}
                                            {status === 'proficient' && <span>‚úì</span>}
                                        </button>
                                    );
                                })}
                            </div>
                        </div>
                    </nav>

                    <main className="max-w-7xl mx-auto px-4 py-8">
                        <div className="fade-in">
                            {currentSection === 'intro' && (
                                <IntroSection 
                                    onComplete={() => completeSection('intro')}
                                    onNext={() => navigateToSection('os1os2')}
                                />
                            )}
                            {currentSection === 'os1os2' && (
                                <OS1OS2Section 
                                    onComplete={() => completeSection('os1os2')}
                                    onNext={() => navigateToSection('notation')}
                                />
                            )}
                            {currentSection === 'notation' && (
                                <NotationSection 
                                    onComplete={() => completeSection('notation')}
                                    onNext={() => navigateToSection('exemplars')}
                                />
                            )}
                            {currentSection === 'exemplars' && (
                                <ExemplarsSection 
                                    philosophers={PHILOSOPHERS}
                                    currentModel={currentModel}
                                    setCurrentModel={setCurrentModel}
                                    onComplete={() => completeSection('exemplars')}
                                    onNext={() => navigateToSection('comparison')}
                                />
                            )}
                            {currentSection === 'comparison' && (
                                <ComparisonSection 
                                    philosophers={PHILOSOPHERS}
                                    comparisonPair={comparisonPair}
                                    setComparisonPair={setComparisonPair}
                                    onComplete={() => completeSection('comparison')}
                                    onNext={() => navigateToSection('modeling')}
                                />
                            )}
                            {currentSection === 'modeling' && (
                                <ModelingSection 
                                    studentModels={studentModels}
                                    setStudentModels={setStudentModels}
                                    onComplete={() => completeSection('modeling')}
                                    onNext={() => navigateToSection('synthesis')}
                                />
                            )}
                            {currentSection === 'synthesis' && (
                                <SynthesisSection 
                                    studentInfo={studentInfo}
                                    sessionData={sessionData}
                                    sectionProgress={sectionProgress}
                                    studentModels={studentModels}
                                    onComplete={() => {
                                        completeSection('synthesis', 'mastered');
                                        setSessionData(prev => ({
                                            ...prev,
                                            completionTime: new Date().toISOString()
                                        }));
                                    }}
                                />
                            )}
                        </div>
                    </main>
                </div>
            );
        }

        // Welcome Screen
        function WelcomeScreen({ onStart }) {
            const [formData, setFormData] = useState({ name: '', email: '', course: '' });

            const handleSubmit = (e) => {
                e.preventDefault();
                if (formData.name && formData.email && formData.course) {
                    onStart(formData);
                }
            };

            return (
                <div className="min-h-screen gradient-bg py-12 px-4">
                    <div className="max-w-4xl mx-auto">
                        <div className="bg-white rounded-lg shadow-2xl p-8 mb-6">
                            <h1 className="text-4xl font-bold text-gray-900 mb-4">
                                Module 3: Philosopher Modeling Studio
                            </h1>
                            <p className="text-xl text-gray-700 mb-6">
                                Building Meta-Constructor Capacity Through Formal Modeling
                            </p>

                            <div className="prose prose-lg max-w-none mb-8">
                                <div className="bg-blue-50 border-l-4 border-blue-500 p-6 mb-6">
                                    <h3 className="text-xl font-semibold text-blue-900 mb-2">What This Module Adds</h3>
                                    <p className="text-gray-700">
                                        Traditional ethics courses teach essential skills (OS1): rigorous argumentation, 
                                        concept analysis, understanding core frameworks. This module adds a complementary 
                                        layer (OS2): the capacity to formally model <em>how</em> different standpoints 
                                        shape ethical reasoning.
                                    </p>
                                </div>

                                <h3 className="text-2xl font-semibold text-gray-900 mb-4">The Sapolsky Challenge</h3>
                                <p className="text-gray-700 mb-4">
                                    If we're fully determined by physics and our past (as neuroscientist Robert Sapolsky argues), 
                                    where's the room for ethics or genuine agency? His deterministic view seems to leave little 
                                    space for meaningful choice at time t+1 based solely on the constraints of time t.
                                </p>

                                <div className="bg-purple-50 border-l-4 border-purple-500 p-6 my-6">
                                    <h4 className="text-lg font-semibold text-purple-900 mb-2">The Meta-Constructor Response</h4>
                                    <p className="text-gray-700 mb-3">
                                        But here's the key insight: when agents can build <strong>meta-constructors</strong> 
                                        (models of ourselves that we use to guide ourselves), we create genuine degrees of freedom.
                                    </p>
                                    <p className="text-gray-700">
                                        Not libertarian "free will," but real options at t+1 that depend on <em>how we model 
                                        ourselves</em> at t. The act of self-modeling itself creates space for agency.
                                    </p>
                                </div>

                                <h3 className="text-2xl font-semibold text-gray-900 mb-4">What You'll Learn</h3>
                                <ul className="space-y-3 text-gray-700">
                                    <li><strong>FAIM-QIRF Notation:</strong> Formal language for modeling ethical agents and their contexts</li>
                                    <li><strong>Diverse Philosophers:</strong> Model thinkers from Socrates to Wangari Maathai to Leanne Simpson</li>
                                    <li><strong>Comparative Analysis:</strong> See how different standpoints reveal different aspects of reality</li>
                                    <li><strong>Build Your Own Models:</strong> Apply the framework to any thinker, organization, or yourself</li>
                                    <li><strong>Pattern Recognition:</strong> Understand philosophy as evolution of whose standpoints get included</li>
                                </ul>

                                <div className="bg-gray-100 p-6 rounded-lg mt-6">
                                    <h3 className="text-xl font-semibold text-gray-900 mb-3">Why This Matters</h3>
                                    <p className="text-gray-700">
                                        You'll gain the capacity to systematically analyze how situated perspectives shape 
                                        ethical reasoning - not to replace traditional ethics training, but to add powerful 
                                        tools for understanding whose voices are heard, what gates exclude certain knowledge, 
                                        and how to design more inclusive ethical systems.
                                    </p>
                                </div>
                            </div>
                        </div>

                        <div className="bg-white rounded-lg shadow-2xl p-8">
                            <h3 className="text-2xl font-bold text-gray-900 mb-4">Student Information</h3>
                            <form onSubmit={handleSubmit} className="space-y-4">
                                <div>
                                    <label className="block text-sm font-medium text-gray-700 mb-2">Full Name *</label>
                                    <input
                                        type="text"
                                        required
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                        value={formData.name}
                                        onChange={(e) => setFormData({...formData, name: e.target.value})}
                                    />
                                </div>
                                <div>
                                    <label className="block text-sm font-medium text-gray-700 mb-2">Email *</label>
                                    <input
                                        type="email"
                                        required
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                        value={formData.email}
                                        onChange={(e) => setFormData({...formData, email: e.target.value})}
                                    />
                                </div>
                                <div>
                                    <label className="block text-sm font-medium text-gray-700 mb-2">Course *</label>
                                    <input
                                        type="text"
                                        required
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                        value={formData.course}
                                        onChange={(e) => setFormData({...formData, course: e.target.value})}
                                    />
                                </div>
                                <button
                                    type="submit"
                                    className="w-full bg-purple-600 text-white py-3 rounded-lg font-semibold hover:bg-purple-700 transition-colors"
                                >
                                    Begin Module 3 ‚Üí
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            );
        }

        // Introduction Section
        function IntroSection({ onComplete, onNext }) {
            useEffect(() => {
                onComplete();
            }, []);

            return (
                <div className="bg-white rounded-lg shadow-lg p-8">
                    <h2 className="text-3xl font-bold text-gray-900 mb-4">
                        Why Model Philosophers?
                    </h2>
                    
                    <div className="prose prose-lg max-w-none">
                        <p className="text-xl text-gray-700 mb-6">
                            Philosophy isn't a museum of dead ideas‚Äîit's a living record of how humans have tried to 
                            understand ethical life from different standpoints across time and culture.
                        </p>

                        <div className="bg-gradient-to-br from-blue-100 to-purple-100 border-2 border-purple-300 p-6 rounded-lg mb-6">
                            <h3 className="text-xl font-semibold text-purple-900 mb-3">The Core Insight</h3>
                            <p className="text-gray-700 mb-3">
                                What you can see about ethics depends on <em>where you stand</em> in social, historical, 
                                and material reality. This isn't relativism‚Äîit's recognizing that:
                            </p>
                            <ul className="space-y-2 text-gray-700">
                                <li>‚Ä¢ Different <strong>standpoints</strong> reveal different aspects of ethical reality</li>
                                <li>‚Ä¢ The same person in different <strong>contexts</strong> will notice different things</li>
                                <li>‚Ä¢ <strong>Gates</strong> (institutional filters) determine whose knowledge counts</li>
                                <li>‚Ä¢ <strong>Meta-constructors</strong> (review systems) allow adaptation over time</li>
                            </ul>
                        </div>

                        <h3 className="text-2xl font-semibold text-gray-900 mb-4">What Formal Modeling Reveals</h3>
                        
                        <p className="text-gray-700 mb-4">
                            By creating formal models of different thinkers, you'll see patterns that are hard to notice otherwise:
                        </p>

                        <div className="space-y-4 mb-6">
                            <div className="bg-blue-50 p-4 rounded-lg border-l-4 border-blue-500">
                                <p className="font-semibold text-blue-900 mb-1">Pattern 1: Standpoint Shapes Vision</p>
                                <p className="text-sm text-gray-700">
                                    Aristotle (free Greek male) saw flourishing as requiring leisure and excluding slaves. 
                                    Wangari Maathai (Kenyan woman) saw environmental degradation and women's oppression as 
                                    connected. Same reality, different visibility.
                                </p>
                            </div>

                            <div className="bg-green-50 p-4 rounded-lg border-l-4 border-green-500">
                                <p className="font-semibold text-green-900 mb-1">Pattern 2: Gates Determine Knowledge</p>
                                <p className="text-sm text-gray-700">
                                    Socrates required dialectical skill (excluding workers, women, slaves). Leanne Simpson 
                                    works with land-based practice (excluded by text-only academic gates). What counts as 
                                    "valid knowledge" isn't neutral.
                                </p>
                            </div>

                            <div className="bg-purple-50 p-4 rounded-lg border-l-4 border-purple-500">
                                <p className="font-semibold text-purple-900 mb-1">Pattern 3: Meta-Constructors Enable Adaptation</p>
                                <p className="text-sm text-gray-700">
                                    Nelson Mandela's Truth & Reconciliation Commission was itself a meta-constructor‚Äîa system 
                                    for reviewing the past to build a different future. Some philosophers built systems that 
                                    could learn; others didn't.
                                </p>
                            </div>
                        </div>

                        <div className="bg-yellow-50 border-l-4 border-yellow-500 p-6 my-6">
                            <h4 className="font-semibold text-yellow-900 mb-2">A Note on Method</h4>
                            <p className="text-gray-700 text-sm">
                                This isn't about judging historical figures by contemporary standards. It's about 
                                understanding <em>how standpoint shaped what was visible</em> to them, what their 
                                frameworks enabled, and what they couldn't see from their position. The goal is 
                                pattern recognition, not moral scorekeeping.
                            </p>
                        </div>

                        <h3 className="text-2xl font-semibold text-gray-900 mb-4">Your Journey Through This Module</h3>
                        
                        <ol className="space-y-3 text-gray-700">
                            <li><strong>1. Learn OS1/OS2 Distinction:</strong> Understand what traditional ethics teaches 
                            (OS1) and what meta-constructor capacity adds (OS2)</li>
                            <li><strong>2. Master FAIM-QIRF Notation:</strong> Learn the formal language for modeling agents</li>
                            <li><strong>3. Explore Diverse Exemplars:</strong> Study 6 thinkers from different standpoints 
                            (Ancient Greece, Kenya, South Africa, Indigenous Canada, US)</li>
                            <li><strong>4. Compare and Analyze:</strong> See what different standpoints reveal and exclude</li>
                            <li><strong>5. Build Your Own Models:</strong> Apply the framework to create your own formal models</li>
                            <li><strong>6. Synthesize:</strong> Reflect on patterns across philosophy's evolution</li>
                        </ol>
                    </div>

                    <button
                        onClick={onNext}
                        className="mt-8 w-full px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-semibold transition-colors"
                    >
                        Continue to OS1/OS2 Framework ‚Üí
                    </button>
                </div>
            );
        }

        // OS1/OS2 Section - NEW DETAILED EXPLANATION
        function OS1OS2Section({ onComplete, onNext }) {
            const [expandedSection, setExpandedSection] = useState(null);

            return (
                <div className="bg-white rounded-lg shadow-lg p-8">
                    <h2 className="text-3xl font-bold text-gray-900 mb-4">
                        OS1 & OS2: Two Complementary Capacities
                    </h2>
                    
                    <div className="prose prose-lg max-w-none">
                        <p className="text-xl text-gray-700 mb-6">
                            Think of ethical reasoning as having two "operating systems" that work together:
                        </p>

                        {/* OS1 Section */}
                        <div className="mb-6">
                            <button
                                onClick={() => setExpandedSection(expandedSection === 'os1' ? null : 'os1')}
                                className="w-full text-left bg-blue-50 hover:bg-blue-100 p-6 rounded-lg border-2 border-blue-200 transition-colors"
                            >
                                <div className="flex items-center justify-between">
                                    <div>
                                        <h3 className="text-2xl font-bold text-blue-900">OS1: Phenomenological Reference Frame</h3>
                                        <p className="text-gray-700 mt-2">The "how it feels" layer - living ethical experience and reasoning</p>
                                    </div>
                                    <span className="text-2xl">{expandedSection === 'os1' ? '‚ñº' : '‚ñ∂'}</span>
                                </div>
                            </button>

                            {expandedSection === 'os1' && (
                                <div className="mt-4 p-6 bg-gray-50 rounded-lg">
                                    <p className="text-gray-700 mb-4">
                                        <strong>OS1</strong> is what traditional ethics courses teach well: how to engage in 
                                        rigorous ethical reasoning from <em>within</em> the lived experience of making moral choices.
                                    </p>

                                    <h4 className="font-semibold text-gray-900 mb-2">What OS1 Includes:</h4>
                                    <ul className="space-y-2 text-gray-700 mb-4">
                                        <li>‚Ä¢ <strong>Phenomenological engagement:</strong> What it feels like to face moral dilemmas</li>
                                        <li>‚Ä¢ <strong>Conceptual analysis:</strong> What does "justice" or "rights" mean?</li>
                                        <li>‚Ä¢ <strong>Argument construction:</strong> Building and evaluating moral reasoning</li>
                                        <li>‚Ä¢ <strong>Framework application:</strong> Using deontology, consequentialism, virtue ethics</li>
                                        <li>‚Ä¢ <strong>Case analysis:</strong> Applying principles to particular situations</li>
                                        <li>‚Ä¢ <strong>Intuition refinement:</strong> Testing and refining moral judgments</li>
                                    </ul>

                                    <div className="bg-blue-100 p-4 rounded mb-4">
                                        <p className="font-semibold text-blue-900 mb-1">Example OS1 Reasoning:</p>
                                        <p className="text-sm text-gray-700 italic">
                                            "Should I lie to protect a friend? Kant would say lying violates the categorical 
                                            imperative‚ÄîI can't will that everyone lies. But consequentially, truth-telling here 
                                            causes harm. My virtue ethics intuition says loyalty matters. How do I weigh these?"
                                        </p>
                                    </div>

                                    <h4 className="font-semibold text-gray-900 mb-2">Why OS1 is Essential:</h4>
                                    <p className="text-gray-700">
                                        You can't do good ethics without these skills. They're foundational‚Äîhow to think clearly, 
                                        argue rigorously, apply frameworks consistently. Traditional ethics courses are very good 
                                        at teaching OS1, and they should be.
                                    </p>
                                </div>
                            )}
                        </div>

                        {/* OS2 Section */}
                        <div className="mb-6">
                            <button
                                onClick={() => setExpandedSection(expandedSection === 'os2' ? null : 'os2')}
                                className="w-full text-left bg-purple-50 hover:bg-purple-100 p-6 rounded-lg border-2 border-purple-200 transition-colors"
                            >
                                <div className="flex items-center justify-between">
                                    <div>
                                        <h3 className="text-2xl font-bold text-purple-900">OS2: Meta-Constructor Capacity</h3>
                                        <p className="text-gray-700 mt-2">The "modeling our modeling" layer - reflective awareness of how ethics works</p>
                                    </div>
                                    <span className="text-2xl">{expandedSection === 'os2' ? '‚ñº' : '‚ñ∂'}</span>
                                </div>
                            </button>

                            {expandedSection === 'os2' && (
                                <div className="mt-4 p-6 bg-gray-50 rounded-lg">
                                    <p className="text-gray-700 mb-4">
                                        <strong>OS2</strong> is the capacity to step back and model <em>how</em> ethical reasoning 
                                        happens‚Äîincluding how your own standpoint shapes what you can see, what gates determine whose 
                                        knowledge counts, and how to build systems that can learn and adapt.
                                    </p>

                                    <h4 className="font-semibold text-gray-900 mb-2">What OS2 Adds:</h4>
                                    <ul className="space-y-2 text-gray-700 mb-4">
                                        <li>‚Ä¢ <strong>Standpoint awareness:</strong> How does my position shape what I see?</li>
                                        <li>‚Ä¢ <strong>Gate recognition:</strong> What institutional filters determine "valid" knowledge?</li>
                                        <li>‚Ä¢ <strong>Constructor analysis:</strong> What procedures produce ethical knowledge?</li>
                                        <li>‚Ä¢ <strong>Meta-constructor design:</strong> How can systems learn and adapt?</li>
                                        <li>‚Ä¢ <strong>Multi-perspective synthesis:</strong> What becomes visible from other standpoints?</li>
                                        <li>‚Ä¢ <strong>System redesign:</strong> How to make ethical knowledge-production more inclusive?</li>
                                    </ul>

                                    <div className="bg-purple-100 p-4 rounded mb-4">
                                        <p className="font-semibold text-purple-900 mb-1">Example OS2 Reasoning:</p>
                                        <p className="text-sm text-gray-700 italic">
                                            "Wait‚ÄîI'm framing this as 'should I lie to protect a friend' because I'm positioned as 
                                            someone who *has* friends, can protect them, and faces social consequences for lying. 
                                            But from a refugee's standpoint, the question might be 'should I lie to border officials 
                                            to save my family?' Different stakes, different visibility. What makes my framing seem 
                                            'neutral' is actually my particular standpoint. How would the framework look redesigned 
                                            to include both perspectives systematically?"
                                        </p>
                                    </div>

                                    <h4 className="font-semibold text-gray-900 mb-2">Why OS2 Matters:</h4>
                                    <p className="text-gray-700">
                                        OS2 lets you see patterns that are invisible from within OS1 alone: whose voices are 
                                        systematically excluded, what your own standpoint makes hard to see, how to build systems 
                                        that include multiple perspectives. It's not better than OS1‚Äîit's complementary.
                                    </p>
                                </div>
                            )}
                        </div>

                        {/* The Sapolsky Problem */}
                        <div className="bg-gradient-to-br from-red-100 to-orange-100 border-2 border-red-300 p-6 rounded-lg mb-6">
                            <h3 className="text-xl font-bold text-red-900 mb-3">üß† Addressing the Sapolsky Problem</h3>
                            <p className="text-gray-700 mb-3">
                                Neuroscientist Robert Sapolsky argues we're fully determined by physics and our past. If he's right, 
                                ethical reasoning seems pointless‚Äîat time t+1, we'll do whatever physics and history determine, 
                                regardless of our "choices" at time t.
                            </p>
                            
                            <h4 className="font-semibold text-red-900 mb-2">The Meta-Constructor Response:</h4>
                            <p className="text-gray-700 mb-3">
                                But here's what changes everything: <strong>when agents can build meta-constructors (models of 
                                themselves that they use to guide themselves), this creates genuine degrees of freedom.</strong>
                            </p>

                            <div className="bg-white p-4 rounded mb-3">
                                <p className="text-sm text-gray-700 mb-2">
                                    <strong>Without meta-constructor capacity:</strong> At t, your behavior at t+1 is determined 
                                    by physics + past. No room for meaningful choice.
                                </p>
                                <p className="text-sm text-gray-700">
                                    <strong>With meta-constructor capacity:</strong> At t, you can build a *model of yourself* 
                                    that becomes part of the causal chain shaping t+1. The model itself has causal power because 
                                    *you use it to guide action*. This isn't magical free will‚Äîit's that representations become 
                                    part of the physics.
                                </p>
                            </div>

                            <p className="text-gray-700 text-sm">
                                Think of it like a map: the map isn't the territory, but once you *have* a map, your behavior 
                                changes. The map (model) becomes part of what determines where you go. Similarly, when you model 
                                "what kind of person I want to be" or "what ethical system makes sense," that model shapes your 
                                next actions. This is OS2's power: the capacity to create self-models that matter causally.
                            </p>
                        </div>

                        {/* How They Work Together */}
                        <div className="bg-green-50 border-l-4 border-green-500 p-6 mb-6">
                            <h3 className="text-xl font-semibold text-green-900 mb-3">How OS1 and OS2 Work Together</h3>
                            
                            <div className="space-y-4 text-gray-700">
                                <div>
                                    <p className="font-semibold text-green-900">OS1 without OS2:</p>
                                    <p className="text-sm">
                                        You can reason rigorously but might not notice when your standpoint limits what you see, 
                                        or when institutional gates exclude valid perspectives. You assume your framing is neutral.
                                    </p>
                                </div>

                                <div>
                                    <p className="font-semibold text-green-900">OS2 without OS1:</p>
                                    <p className="text-sm">
                                        You can analyze standpoints and gates but lack the skills to actually reason well about 
                                        particular cases. Meta-awareness without competence in doing ethics.
                                    </p>
                                </div>

                                <div>
                                    <p className="font-semibold text-green-900">OS1 + OS2 together:</p>
                                    <p className="text-sm">
                                        You can reason rigorously (OS1) <em>while</em> remaining aware of how your standpoint 
                                        shapes what's visible (OS2), and you can design systems that systematically include 
                                        multiple perspectives (OS2) <em>while</em> maintaining rigorous standards (OS1).
                                    </p>
                                </div>
                            </div>
                        </div>

                        {/* What This Module Teaches */}
                        <div className="bg-gray-100 p-6 rounded-lg">
                            <h3 className="text-xl font-semibold text-gray-900 mb-3">What This Module Develops</h3>
                            <p className="text-gray-700 mb-4">
                                This module specifically builds your OS2 capacity through formal modeling. You'll learn to:
                            </p>
                            <ul className="space-y-2 text-gray-700">
                                <li>‚Ä¢ Model any ethical agent (philosopher, organization, yourself) using FAIM-QIRF notation</li>
                                <li>‚Ä¢ Identify which standpoints (SPTS) shape what's visible in someone's reasoning</li>
                                <li>‚Ä¢ Recognize gates (G) that determine whose knowledge counts as valid</li>
                                <li>‚Ä¢ Distinguish constructors (repeatable procedures) from meta-constructors (learning systems)</li>
                                <li>‚Ä¢ Design interventions that expand whose perspectives get included</li>
                                <li>‚Ä¢ Build systems with genuine capacity for adaptation over time</li>
                            </ul>
                            <p className="text-gray-700 mt-4 font-semibold">
                                This doesn't replace OS1 skills from traditional ethics‚Äîit complements them by adding the 
                                meta-level capacity that creates space for genuine agency.
                            </p>
                        </div>
                    </div>

                    <button
                        onClick={() => {
                            onComplete();
                            onNext();
                        }}
                        className="mt-8 w-full px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-semibold transition-colors"
                    >
                        Continue to FAIM-QIRF Notation ‚Üí
                    </button>
                </div>
            );
        }

        // Continue with NotationSection, ExemplarsSection, etc. in next message due to length...
        // Let me add placeholders for now and we can expand

        function NotationSection({ onComplete, onNext }) {
            const [currentStep, setCurrentStep] = useState(0);
            const [quizAnswers, setQuizAnswers] = useState({});

            const steps = [
                {
                    title: "Agent Structure",
                    content: `Every agent in FAIM-QIRF is modeled as:

a = ‚ü®IK, PRS_t, SPTS, AH, BROA+, Cap, Capab, Cons, MetaCons‚ü©

Think of this as a formal way to describe "what makes this thinker see the world the way they do."`,
                    components: [
                        { symbol: "IK", name: "Identity Kernel", desc: "Core non-negotiable commitments and values" },
                        { symbol: "PRS_t", name: "Phenomenal Reference Space (at time t)", desc: "What's visible/legible to this agent right now" },
                        { symbol: "SPTS", name: "Standpoint Set", desc: "The situated perspectives this agent can authentically occupy" },
                        { symbol: "AH", name: "Assembly History", desc: "How past experiences shape current filters and capabilities" },
                        { symbol: "BROA+", name: "Beliefs-Rules-Ontology-Authenticity (+Motivation)", desc: "Filters that shape interpretation" },
                        { symbol: "Cap", name: "Capacities", desc: "Latent abilities present but not yet reliably expressed" },
                        { symbol: "Capab", name: "Capabilities", desc: "Reliable methods that work consistently" },
                        { symbol: "Cons", name: "Constructors", desc: "Repeatable procedures that persist beyond individual" },
                        { symbol: "MetaCons", name: "Meta-Constructors", desc: "Review/repair/update loops that allow learning" }
                    ]
                },
                {
                    title: "World Structure",
                    content: `The world (context) is modeled as:

W_t = ‚ü®Ctx_t, Cons, MetaCons, G‚ü©

This captures the institutional and social structures that shape what agents can do.`,
                    components: [
                        { symbol: "Ctx_t", name: "Context (at time t)", desc: "Current social/epistemic contexts, incentives, archives" },
                        { symbol: "Cons", name: "Constructors", desc: "Institutional procedures that produce 'knowledge outcomes'" },
                        { symbol: "MetaCons", name: "Meta-Constructors", desc: "Review and update mechanisms" },
                        { symbol: "G", name: "Gates", desc: "What counts as evidence, voice, or standing in this context" }
                    ]
                },
                {
                    title: "Why This Notation Matters",
                    content: `This isn't just academic formalism. The notation lets us:

1. Make explicit what's usually implicit (whose standpoint? what gates?)
2. Compare thinkers systematically (same notation, different values)
3. Identify intervention points (change Gates? Build MetaCons?)
4. Simulate outcomes (what if Aristotle had different SPTS?)
5. Design better systems (where do we need MetaCons?)`,
                    example: {
                        before: "Aristotle's ethics excluded women and slaves.",
                        after: `Formal analysis shows:
‚Ä¢ Aristotle's SPTS = {Greek male elite}
‚Ä¢ His PRS_t made certain lives (workers, women, slaves) invisible
‚Ä¢ His G (gates) = "virtue requires leisure, excludes 'natural slaves'"
‚Ä¢ No MetaCons to question these assumptions
‚Ä¢ Intervention point: Add MetaCons that include excluded SPTS`
                    }
                }
            ];

            const quiz = [
                {
                    question: "What's the difference between Cap (Capacity) and Capab (Capability)?",
                    options: [
                        { id: "A", text: "There is no difference, they're synonyms", correct: false },
                        { id: "B", text: "Capacity = latent potential; Capability = reliable method", correct: true },
                        { id: "C", text: "Capacity = individual; Capability = collective", correct: false },
                        { id: "D", text: "Capacity = physical; Capability = mental", correct: false }
                    ],
                    explanation: "Capacity is latent ability (present but not yet reliably expressed). Capability is a reliable method that works consistently. Example: A student might have capacity for critical thinking, but needs to develop capability through practice and clear procedures."
                },
                {
                    question: "What does G (Gates) refer to?",
                    options: [
                        { id: "A", text: "Physical barriers to participation", correct: false },
                        { id: "B", text: "What counts as valid evidence, voice, or standing", correct: true },
                        { id: "C", text: "Government regulations", correct: false },
                        { id: "D", text: "Genetic predispositions", correct: false }
                    ],
                    explanation: "Gates (G) are the often-invisible filters that determine whose knowledge counts, what forms of evidence are accepted, and who has standing to speak. They're institutional and epistemological, not physical."
                },
                {
                    question: "Why are Meta-Constructors important?",
                    options: [
                        { id: "A", text: "They make systems more efficient", correct: false },
                        { id: "B", text: "They allow systems to review, learn, and adapt over time", correct: true },
                        { id: "C", text: "They reduce costs", correct: false },
                        { id: "D", text: "They enforce rules more strictly", correct: false }
                    ],
                    explanation: "Meta-Constructors are review/repair/update loops that allow a system to learn from mistakes and adapt. Without them, constructors (procedures) can't improve even when they fail. This is the key to creating space for agency despite determinism."
                }
            ];

            const allQuizAnswered = quiz.every(q => quizAnswers[q.question]);

            return (
                <div className="bg-white rounded-lg shadow-lg p-8">
                    <h2 className="text-3xl font-bold text-gray-900 mb-4">FAIM-QIRF Notation Tutorial</h2>
                    
                    <div className="mb-6">
                        <div className="flex space-x-2 mb-4">
                            {steps.map((step, idx) => (
                                <button
                                    key={idx}
                                    onClick={() => setCurrentStep(idx)}
                                    className={`px-4 py-2 rounded-lg font-semibold transition-colors ${
                                        currentStep === idx 
                                            ? 'bg-purple-600 text-white' 
                                            : 'bg-gray-200 hover:bg-gray-300'
                                    }`}
                                >
                                    Step {idx + 1}
                                </button>
                            ))}
                        </div>

                        <div className="bg-gradient-to-br from-blue-50 to-purple-50 border-2 border-purple-200 rounded-lg p-6 mb-6">
                            <h3 className="text-2xl font-bold text-purple-900 mb-4">{steps[currentStep].title}</h3>
                            <p className="text-gray-700 whitespace-pre-line mb-6">{steps[currentStep].content}</p>

                            {steps[currentStep].components && (
                                <div className="space-y-3">
                                    {steps[currentStep].components.map((comp, idx) => (
                                        <div key={idx} className="bg-white p-4 rounded-lg shadow">
                                            <div className="flex items-start">
                                                <div className="bg-purple-100 text-purple-900 font-mono font-bold px-3 py-1 rounded text-sm mr-4">
                                                    {comp.symbol}
                                                </div>
                                                <div className="flex-1">
                                                    <p className="font-semibold text-gray-900">{comp.name}</p>
                                                    <p className="text-sm text-gray-600 mt-1">{comp.desc}</p>
                                                </div>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            )}

                            {steps[currentStep].example && (
                                <div className="bg-yellow-50 border-l-4 border-yellow-500 p-4 mt-6">
                                    <p className="font-semibold text-yellow-900 mb-2">Concrete Example:</p>
                                    <p className="text-sm text-gray-700 mb-3"><strong>Informal:</strong> {steps[currentStep].example.before}</p>
                                    <p className="text-sm text-gray-700 whitespace-pre-line"><strong>Formal Analysis:</strong> {steps[currentStep].example.after}</p>
                                </div>
                            )}
                        </div>

                        <div className="flex justify-between">
                            <button
                                onClick={() => setCurrentStep(Math.max(0, currentStep - 1))}
                                disabled={currentStep === 0}
                                className={`px-4 py-2 rounded-lg font-semibold ${
                                    currentStep === 0 
                                        ? 'bg-gray-200 text-gray-400 cursor-not-allowed' 
                                        : 'bg-gray-300 hover:bg-gray-400'
                                }`}
                            >
                                ‚Üê Previous
                            </button>
                            <button
                                onClick={() => setCurrentStep(Math.min(steps.length - 1, currentStep + 1))}
                                disabled={currentStep === steps.length - 1}
                                className={`px-4 py-2 rounded-lg font-semibold ${
                                    currentStep === steps.length - 1 
                                        ? 'bg-gray-200 text-gray-400 cursor-not-allowed' 
                                        : 'bg-purple-600 text-white hover:bg-purple-700'
                                }`}
                            >
                                Next ‚Üí
                            </button>
                        </div>
                    </div>

                    {currentStep === steps.length - 1 && (
                        <div className="mt-8 pt-8 border-t-2 border-gray-200">
                            <h3 className="text-2xl font-bold text-gray-900 mb-4">Check Your Understanding</h3>
                            
                            {quiz.map((q, qIdx) => (
                                <div key={qIdx} className="mb-6 bg-gray-50 p-6 rounded-lg">
                                    <p className="font-semibold text-gray-900 mb-4">{qIdx + 1}. {q.question}</p>
                                    <div className="space-y-2 mb-4">
                                        {q.options.map(opt => (
                                            <button
                                                key={opt.id}
                                                onClick={() => setQuizAnswers({...quizAnswers, [q.question]: opt.id})}
                                                disabled={quizAnswers[q.question]}
                                                className={`w-full text-left p-3 rounded-lg border-2 transition-all ${
                                                    quizAnswers[q.question] === opt.id
                                                        ? opt.correct ? 'border-green-500 bg-green-50' : 'border-red-500 bg-red-50'
                                                        : quizAnswers[q.question] && opt.correct ? 'border-green-500 bg-green-50'
                                                        : 'border-gray-300 hover:bg-gray-100'
                                                }`}
                                            >
                                                <span className="font-bold mr-2">{opt.id}.</span> {opt.text}
                                            </button>
                                        ))}
                                    </div>
                                    {quizAnswers[q.question] && (
                                        <div className="bg-blue-50 border-l-4 border-blue-500 p-4">
                                            <p className="text-sm text-gray-700">{q.explanation}</p>
                                        </div>
                                    )}
                                </div>
                            ))}

                            {allQuizAnswered && (
                                <button
                                    onClick={() => { onComplete(); onNext(); }}
                                    className="w-full px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-semibold transition-colors"
                                >
                                    Continue to Philosopher Exemplars ‚Üí
                                </button>
                            )}
                        </div>
                    )}
                </div>
            );
        }

        function ExemplarsSection({ philosophers, currentModel, setCurrentModel, onComplete, onNext }) {
            const [selectedPhil, setSelectedPhil] = useState(null);
            const [viewMode, setViewMode] = useState('grid'); // 'grid' or 'detail'
            const [completedViews, setCompletedViews] = useState(new Set());

            const philosopherList = Object.keys(philosophers);

            const handleViewPhilosopher = (philKey) => {
                setSelectedPhil(philKey);
                setViewMode('detail');
                setCompletedViews(new Set([...completedViews, philKey]));
            };

            const allViewed = philosopherList.every(p => completedViews.has(p));

            if (viewMode === 'detail' && selectedPhil) {
                const phil = philosophers[selectedPhil];
                
                return (
                    <div className="bg-white rounded-lg shadow-lg p-8">
                        <button
                            onClick={() => setViewMode('grid')}
                            className="mb-4 px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded-lg font-semibold"
                        >
                            ‚Üê Back to All Philosophers
                        </button>

                        <div className="mb-6">
                            <div className="flex items-center space-x-4 mb-4">
                                <div className="text-6xl">{phil.image}</div>
                                <div>
                                    <h2 className="text-3xl font-bold text-gray-900">{phil.name}</h2>
                                    <p className="text-lg text-gray-600">{phil.era}</p>
                                    <p className="text-md text-purple-600 font-semibold">{phil.region}</p>
                                </div>
                            </div>
                        </div>

                        <div className="space-y-6">
                            {/* Formal Model */}
                            <div className="bg-gradient-to-br from-purple-50 to-blue-50 border-2 border-purple-200 rounded-lg p-6">
                                <h3 className="text-2xl font-bold text-purple-900 mb-4">Formal FAIM-QIRF Model</h3>
                                
                                <div className="space-y-4">
                                    {Object.entries(phil.model).map(([key, value]) => {
                                        const labels = {
                                            IK: "Identity Kernel",
                                            PRS_t: "Phenomenal Reference Space",
                                            SPTS: "Standpoint Set",
                                            AH: "Assembly History",
                                            BROAPlus: "BROA+ Filters",
                                            Cap: "Capacities",
                                            Capab: "Capabilities",
                                            Cons: "Constructors",
                                            MetaCons: "Meta-Constructors",
                                            Gates: "Gates"
                                        };

                                        return (
                                            <div key={key} className="bg-white p-4 rounded-lg shadow">
                                                <div className="flex items-start">
                                                    <div className="bg-purple-100 text-purple-900 font-mono font-bold px-3 py-1 rounded text-xs mr-3 shrink-0">
                                                        {key === 'BROAPlus' ? 'BROA+' : key}
                                                    </div>
                                                    <div className="flex-1">
                                                        <p className="font-semibold text-sm text-gray-600 mb-1">{labels[key]}</p>
                                                        {Array.isArray(value) ? (
                                                            <ul className="text-sm text-gray-700 list-disc list-inside">
                                                                {value.map((v, i) => <li key={i}>{v}</li>)}
                                                            </ul>
                                                        ) : (
                                                            <p className="text-sm text-gray-700">{value}</p>
                                                        )}
                                                    </div>
                                                </div>
                                            </div>
                                        );
                                    })}
                                </div>
                            </div>

                            {/* Key Insights */}
                            <div className="bg-green-50 border-l-4 border-green-500 p-6 rounded-lg">
                                <h4 className="font-bold text-green-900 mb-3">Key Insights</h4>
                                <ul className="space-y-2">
                                    {phil.keyInsights.map((insight, i) => (
                                        <li key={i} className="text-gray-700 text-sm">
                                            <span className="font-semibold text-green-900">‚Ä¢</span> {insight}
                                        </li>
                                    ))}
                                </ul>
                            </div>

                            {/* Limitations */}
                            <div className="bg-yellow-50 border-l-4 border-yellow-500 p-6 rounded-lg">
                                <h4 className="font-bold text-yellow-900 mb-3">Limitations & Context</h4>
                                <ul className="space-y-2">
                                    {phil.limitations.map((limit, i) => (
                                        <li key={i} className="text-gray-700 text-sm">
                                            <span className="font-semibold text-yellow-900">‚Ä¢</span> {limit}
                                        </li>
                                    ))}
                                </ul>
                            </div>

                            {/* What Revealed / Excluded */}
                            <div className="grid md:grid-cols-2 gap-4">
                                <div className="bg-blue-50 p-4 rounded-lg">
                                    <h4 className="font-bold text-blue-900 mb-2">What This SPTS Revealed</h4>
                                    <p className="text-sm text-gray-700">{phil.whatRevealed}</p>
                                </div>
                                <div className="bg-red-50 p-4 rounded-lg">
                                    <h4 className="font-bold text-red-900 mb-2">What Was Excluded</h4>
                                    <p className="text-sm text-gray-700">{phil.whatExcluded}</p>
                                </div>
                            </div>

                            {/* Reflection Questions */}
                            <div className="bg-gray-100 p-6 rounded-lg">
                                <h4 className="font-bold text-gray-900 mb-3">Reflection Questions</h4>
                                <ul className="space-y-2 text-gray-700 text-sm">
                                    <li>‚Ä¢ How did {phil.name}'s SPTS (standpoint set) shape what was visible in their PRS?</li>
                                    <li>‚Ä¢ What Gates (G) did they challenge or reinforce?</li>
                                    <li>‚Ä¢ Did they build Constructors that persisted? Meta-Constructors that could adapt?</li>
                                    <li>‚Ä¢ What would change if they had access to different SPTS?</li>
                                </ul>
                            </div>
                        </div>

                        <div className="mt-6 flex space-x-4">
                            <button
                                onClick={() => {
                                    const currentIdx = philosopherList.indexOf(selectedPhil);
                                    if (currentIdx < philosopherList.length - 1) {
                                        handleViewPhilosopher(philosopherList[currentIdx + 1]);
                                    }
                                }}
                                disabled={philosopherList.indexOf(selectedPhil) === philosopherList.length - 1}
                                className={`flex-1 px-6 py-3 rounded-lg font-semibold ${
                                    philosopherList.indexOf(selectedPhil) === philosopherList.length - 1
                                        ? 'bg-gray-200 text-gray-400 cursor-not-allowed'
                                        : 'bg-purple-600 text-white hover:bg-purple-700'
                                }`}
                            >
                                Next Philosopher ‚Üí
                            </button>
                            <button
                                onClick={() => setViewMode('grid')}
                                className="flex-1 px-6 py-3 bg-gray-300 hover:bg-gray-400 text-gray-900 rounded-lg font-semibold"
                            >
                                View All
                            </button>
                        </div>
                    </div>
                );
            }

            return (
                <div className="bg-white rounded-lg shadow-lg p-8">
                    <h2 className="text-3xl font-bold text-gray-900 mb-4">Philosopher Exemplars</h2>
                    <p className="text-lg text-gray-700 mb-6">
                        Study these diverse thinkers to see how different standpoints (SPTS) reveal different 
                        aspects of ethical reality. Each model shows what was visible from their position and 
                        what remained outside their frame.
                    </p>

                    <div className="bg-blue-50 border-l-4 border-blue-500 p-4 mb-6">
                        <p className="text-sm text-gray-700">
                            <strong>Progress:</strong> You've viewed {completedViews.size} of {philosopherList.length} philosophers.
                            {allViewed && " ‚úì All viewed! You can now proceed to comparison."}
                        </p>
                    </div>

                    <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
                        {philosopherList.map(philKey => {
                            const phil = philosophers[philKey];
                            const viewed = completedViews.has(philKey);
                            
                            return (
                                <div
                                    key={philKey}
                                    className={`model-node bg-gradient-to-br from-white to-gray-50 border-2 rounded-lg p-6 ${
                                        viewed ? 'border-green-400' : 'border-gray-300'
                                    }`}
                                >
                                    <div className="text-center mb-4">
                                        <div className="text-5xl mb-3">{phil.image}</div>
                                        <h3 className="text-xl font-bold text-gray-900">{phil.name}</h3>
                                        <p className="text-sm text-gray-600">{phil.era}</p>
                                        <p className="text-xs text-purple-600 font-semibold mt-1">{phil.region}</p>
                                    </div>

                                    <div className="bg-gray-100 p-3 rounded mb-4">
                                        <p className="text-xs text-gray-600 font-semibold mb-1">Key SPTS:</p>
                                        <div className="flex flex-wrap gap-1">
                                            {phil.model.SPTS.slice(0, 2).map((s, i) => (
                                                <span key={i} className="text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded">
                                                    {s}
                                                </span>
                                            ))}
                                        </div>
                                    </div>

                                    <button
                                        onClick={() => handleViewPhilosopher(philKey)}
                                        className={`w-full px-4 py-2 rounded-lg font-semibold transition-colors ${
                                            viewed 
                                                ? 'bg-green-100 text-green-700 hover:bg-green-200'
                                                : 'bg-purple-600 text-white hover:bg-purple-700'
                                        }`}
                                    >
                                        {viewed ? '‚úì View Again' : 'View Full Model'}
                                    </button>
                                </div>
                            );
                        })}
                    </div>

                    {allViewed && (
                        <button
                            onClick={() => { onComplete(); onNext(); }}
                            className="w-full px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-semibold transition-colors"
                        >
                            Continue to Comparative Analysis ‚Üí
                        </button>
                    )}
                </div>
            );
        }

        function ComparisonSection({ philosophers, comparisonPair, setComparisonPair, onComplete, onNext }) {
            const [phil1, setPhi

l1] = useState(comparisonPair[0]);
            const [phil2, setPhil2] = useState(comparisonPair[1]);
            const [showAnalysis, setShowAnalysis] = useState(false);

            const philosopherList = Object.keys(philosophers);

            const handleCompare = () => {
                if (phil1 && phil2 && phil1 !== phil2) {
                    setComparisonPair([phil1, phil2]);
                    setShowAnalysis(true);
                }
            };

            const getComponentLabel = (key) => {
                const labels = {
                    IK: "Identity Kernel",
                    PRS_t: "Phenomenal Reference Space",
                    SPTS: "Standpoint Set",
                    AH: "Assembly History",
                    BROAPlus: "BROA+ Filters",
                    Cap: "Capacities",
                    Capab: "Capabilities",
                    Cons: "Constructors",
                    MetaCons: "Meta-Constructors",
                    Gates: "Gates"
                };
                return labels[key] || key;
            };

            if (showAnalysis && phil1 && phil2) {
                const p1 = philosophers[phil1];
                const p2 = philosophers[phil2];

                return (
                    <div className="bg-white rounded-lg shadow-lg p-8">
                        <button
                            onClick={() => setShowAnalysis(false)}
                            className="mb-4 px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded-lg font-semibold"
                        >
                            ‚Üê Choose Different Pair
                        </button>

                        <h2 className="text-3xl font-bold text-gray-900 mb-6">Comparative Analysis</h2>

                        <div className="grid md:grid-cols-2 gap-6 mb-8">
                            {/* Philosopher 1 Header */}
                            <div className="bg-gradient-to-br from-blue-50 to-blue-100 border-2 border-blue-300 rounded-lg p-6 text-center">
                                <div className="text-5xl mb-3">{p1.image}</div>
                                <h3 className="text-2xl font-bold text-gray-900">{p1.name}</h3>
                                <p className="text-sm text-gray-600">{p1.era}</p>
                                <p className="text-xs text-blue-600 font-semibold">{p1.region}</p>
                            </div>

                            {/* Philosopher 2 Header */}
                            <div className="bg-gradient-to-br from-purple-50 to-purple-100 border-2 border-purple-300 rounded-lg p-6 text-center">
                                <div className="text-5xl mb-3">{p2.image}</div>
                                <h3 className="text-2xl font-bold text-gray-900">{p2.name}</h3>
                                <p className="text-sm text-gray-600">{p2.era}</p>
                                <p className="text-xs text-purple-600 font-semibold">{p2.region}</p>
                            </div>
                        </div>

                        {/* Model Comparison */}
                        <div className="space-y-6 mb-8">
                            {Object.keys(p1.model).map(key => (
                                <div key={key} className="border-2 border-gray-200 rounded-lg overflow-hidden">
                                    <div className="bg-gray-100 px-4 py-2">
                                        <h4 className="font-bold text-gray-900 flex items-center">
                                            <span className="bg-purple-200 text-purple-900 font-mono text-xs px-2 py-1 rounded mr-3">
                                                {key === 'BROAPlus' ? 'BROA+' : key}
                                            </span>
                                            {getComponentLabel(key)}
                                        </h4>
                                    </div>
                                    <div className="grid md:grid-cols-2">
                                        <div className="p-4 bg-blue-50 border-r-2 border-gray-200">
                                            {Array.isArray(p1.model[key]) ? (
                                                <ul className="text-sm text-gray-700 space-y-1">
                                                    {p1.model[key].map((v, i) => <li key={i}>‚Ä¢ {v}</li>)}
                                                </ul>
                                            ) : (
                                                <p className="text-sm text-gray-700">{p1.model[key]}</p>
                                            )}
                                        </div>
                                        <div className="p-4 bg-purple-50">
                                            {Array.isArray(p2.model[key]) ? (
                                                <ul className="text-sm text-gray-700 space-y-1">
                                                    {p2.model[key].map((v, i) => <li key={i}>‚Ä¢ {v}</li>)}
                                                </ul>
                                            ) : (
                                                <p className="text-sm text-gray-700">{p2.model[key]}</p>
                                            )}
                                        </div>
                                    </div>
                                </div>
                            ))}
                        </div>

                        {/* Analysis Section */}
                        <div className="space-y-6">
                            <div className="bg-gradient-to-br from-green-50 to-blue-50 border-2 border-green-300 p-6 rounded-lg">
                                <h3 className="text-xl font-bold text-green-900 mb-4">What These Different SPTS Reveal</h3>
                                <div className="grid md:grid-cols-2 gap-4">
                                    <div>
                                        <p className="font-semibold text-blue-900 mb-2">{p1.name}</p>
                                        <p className="text-sm text-gray-700">{p1.whatRevealed}</p>
                                    </div>
                                    <div>
                                        <p className="font-semibold text-purple-900 mb-2">{p2.name}</p>
                                        <p className="text-sm text-gray-700">{p2.whatRevealed}</p>
                                    </div>
                                </div>
                            </div>

                            <div className="bg-gradient-to-br from-yellow-50 to-orange-50 border-2 border-yellow-300 p-6 rounded-lg">
                                <h3 className="text-xl font-bold text-yellow-900 mb-4">What Was Excluded From Each Frame</h3>
                                <div className="grid md:grid-cols-2 gap-4">
                                    <div>
                                        <p className="font-semibold text-blue-900 mb-2">{p1.name}</p>
                                        <p className="text-sm text-gray-700">{p1.whatExcluded}</p>
                                    </div>
                                    <div>
                                        <p className="font-semibold text-purple-900 mb-2">{p2.name}</p>
                                        <p className="text-sm text-gray-700">{p2.whatExcluded}</p>
                                    </div>
                                </div>
                            </div>

                            <div className="bg-gradient-to-br from-purple-50 to-pink-50 border-2 border-purple-300 p-6 rounded-lg">
                                <h3 className="text-xl font-bold text-purple-900 mb-4">Key Insights From This Comparison</h3>
                                <ul className="space-y-3 text-gray-700">
                                    <li className="flex items-start">
                                        <span className="text-purple-600 font-bold mr-2">‚Ä¢</span>
                                        <span className="text-sm">
                                            <strong>SPTS Differences:</strong> {p1.name}'s standpoint as 
                                            {p1.model.SPTS[0]} shaped what was visible differently than {p2.name}'s as 
                                            {p2.model.SPTS[0]}. Neither is "biased"‚Äîboth reveal real aspects from their position.
                                        </span>
                                    </li>
                                    <li className="flex items-start">
                                        <span className="text-purple-600 font-bold mr-2">‚Ä¢</span>
                                        <span className="text-sm">
                                            <strong>Gates (G):</strong> Each worked within different gates determining what 
                                            counted as valid knowledge. These gates shaped their constructors.
                                        </span>
                                    </li>
                                    <li className="flex items-start">
                                        <span className="text-purple-600 font-bold mr-2">‚Ä¢</span>
                                        <span className="text-sm">
                                            <strong>Complementarity:</strong> Neither perspective is complete alone. 
                                            Combining multiple SPTS reveals more of ethical reality than any single frame.
                                        </span>
                                    </li>
                                </ul>
                            </div>

                            <div className="bg-gray-100 p-6 rounded-lg">
                                <h3 className="text-xl font-bold text-gray-900 mb-4">Reflection Questions</h3>
                                <ul className="space-y-2 text-gray-700 text-sm">
                                    <li>‚Ä¢ How would {p1.name}'s ethics change if they had access to {p2.name}'s SPTS?</li>
                                    <li>‚Ä¢ What would {p2.name} see differently with {p1.name}'s institutional position?</li>
                                    <li>‚Ä¢ Could you design constructors that include both perspectives systematically?</li>
                                    <li>‚Ä¢ What meta-constructors would allow a system to learn from both?</li>
                                </ul>
                            </div>
                        </div>

                        <div className="mt-8 flex space-x-4">
                            <button
                                onClick={() => setShowAnalysis(false)}
                                className="flex-1 px-6 py-3 bg-gray-300 hover:bg-gray-400 text-gray-900 rounded-lg font-semibold"
                            >
                                Compare Different Pair
                            </button>
                            <button
                                onClick={() => { onComplete(); onNext(); }}
                                className="flex-1 px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-semibold"
                            >
                                Continue to Student Modeling ‚Üí
                            </button>
                        </div>
                    </div>
                );
            }

            return (
                <div className="bg-white rounded-lg shadow-lg p-8">
                    <h2 className="text-3xl font-bold text-gray-900 mb-4">Comparative Analysis Tool</h2>
                    <p className="text-lg text-gray-700 mb-6">
                        Compare any two philosophers to see how different standpoints reveal different 
                        aspects of ethical reality.
                    </p>

                    <div className="bg-blue-50 border-l-4 border-blue-500 p-6 mb-8">
                        <h3 className="font-semibold text-blue-900 mb-2">Why Compare?</h3>
                        <p className="text-gray-700 text-sm">
                            Comparing models reveals patterns that single cases hide: how SPTS shapes visibility, 
                            how gates determine knowledge production, how constructors arise from particular contexts. 
                            The differences are data, not defects.
                        </p>
                    </div>

                    <div className="grid md:grid-cols-2 gap-8 mb-8">
                        {/* Philosopher 1 Selection */}
                        <div>
                            <h3 className="text-xl font-bold text-gray-900 mb-4">Select First Philosopher</h3>
                            <div className="space-y-3">
                                {philosopherList.map(philKey => {
                                    const phil = philosophers[philKey];
                                    return (
                                        <button
                                            key={philKey}
                                            onClick={() => setPhil1(philKey)}
                                            className={`w-full text-left p-4 rounded-lg border-2 transition-all ${
                                                phil1 === philKey 
                                                    ? 'border-blue-500 bg-blue-50' 
                                                    : 'border-gray-300 hover:bg-gray-50'
                                            }`}
                                        >
                                            <div className="flex items-center space-x-3">
                                                <div className="text-3xl">{phil.image}</div>
                                                <div>
                                                    <p className="font-semibold text-gray-900">{phil.name}</p>
                                                    <p className="text-xs text-gray-600">{phil.era}</p>
                                                </div>
                                            </div>
                                        </button>
                                    );
                                })}
                            </div>
                        </div>

                        {/* Philosopher 2 Selection */}
                        <div>
                            <h3 className="text-xl font-bold text-gray-900 mb-4">Select Second Philosopher</h3>
                            <div className="space-y-3">
                                {philosopherList.map(philKey => {
                                    const phil = philosophers[philKey];
                                    return (
                                        <button
                                            key={philKey}
                                            onClick={() => setPhil2(philKey)}
                                            className={`w-full text-left p-4 rounded-lg border-2 transition-all ${
                                                phil2 === philKey 
                                                    ? 'border-purple-500 bg-purple-50' 
                                                    : 'border-gray-300 hover:bg-gray-50'
                                            }`}
                                        >
                                            <div className="flex items-center space-x-3">
                                                <div className="text-3xl">{phil.image}</div>
                                                <div>
                                                    <p className="font-semibold text-gray-900">{phil.name}</p>
                                                    <p className="text-xs text-gray-600">{phil.era}</p>
                                                </div>
                                            </div>
                                        </button>
                                    );
                                })}
                            </div>
                        </div>
                    </div>

                    {phil1 && phil2 && phil1 === phil2 && (
                        <div className="bg-yellow-50 border-l-4 border-yellow-500 p-4 mb-6">
                            <p className="text-yellow-900 font-semibold">Please select two different philosophers to compare.</p>
                        </div>
                    )}

                    <button
                        onClick={handleCompare}
                        disabled={!phil1 || !phil2 || phil1 === phil2}
                        className={`w-full px-6 py-3 rounded-lg font-semibold transition-colors ${
                            phil1 && phil2 && phil1 !== phil2
                                ? 'bg-purple-600 hover:bg-purple-700 text-white'
                                : 'bg-gray-300 text-gray-500 cursor-not-allowed'
                        }`}
                    >
                        Compare These Philosophers ‚Üí
                    </button>
                </div>
            );
        }

        function ModelingSection({ studentModels, setStudentModels, onComplete, onNext }) {
            const [currentModel, setCurrentModel] = useState({
                name: '',
                era: '',
                region: '',
                IK: '',
                PRS_t: '',
                SPTS: ['', '', ''],
                AH: '',
                BROAPlus: '',
                Cap: '',
                Capab: '',
                Cons: '',
                MetaCons: '',
                Gates: ''
            });
            const [submitted, setSubmitted] = useState(false);

            const handleSPTSChange = (index, value) => {
                const newSPTS = [...currentModel.SPTS];
                newSPTS[index] = value;
                setCurrentModel({...currentModel, SPTS: newSPTS});
            };

            const isComplete = () => {
                return currentModel.name && currentModel.IK && currentModel.PRS_t && 
                       currentModel.SPTS.some(s => s) && currentModel.AH &&
                       currentModel.Capab && currentModel.Cons;
            };

            const handleSubmit = () => {
                if (isComplete()) {
                    const newModels = {...studentModels, [Date.now()]: currentModel};
                    setStudentModels(newModels);
                    setSubmitted(true);
                }
            };

            if (submitted) {
                return (
                    <div className="bg-white rounded-lg shadow-lg p-8">
                        <div className="text-center mb-8">
                            <div className="text-6xl mb-4">‚úÖ</div>
                            <h2 className="text-3xl font-bold text-gray-900 mb-4">Model Created Successfully!</h2>
                            <p className="text-lg text-gray-700">
                                You've built a formal FAIM-QIRF model of {currentModel.name}.
                            </p>
                        </div>

                        <div className="bg-gradient-to-br from-purple-50 to-blue-50 border-2 border-purple-300 rounded-lg p-6 mb-8">
                            <h3 className="text-2xl font-bold text-purple-900 mb-4">Your Model: {currentModel.name}</h3>
                            
                            <div className="space-y-4">
                                {Object.entries(currentModel).filter(([key]) => 
                                    !['name', 'era', 'region'].includes(key) && currentModel[key]
                                ).map(([key, value]) => (
                                    <div key={key} className="bg-white p-4 rounded-lg shadow">
                                        <div className="flex items-start">
                                            <div className="bg-purple-100 text-purple-900 font-mono font-bold px-3 py-1 rounded text-xs mr-3 shrink-0">
                                                {key === 'BROAPlus' ? 'BROA+' : key}
                                            </div>
                                            <div className="flex-1">
                                                {Array.isArray(value) ? (
                                                    <ul className="text-sm text-gray-700 space-y-1">
                                                        {value.filter(v => v).map((v, i) => <li key={i}>‚Ä¢ {v}</li>)}
                                                    </ul>
                                                ) : (
                                                    <p className="text-sm text-gray-700">{value}</p>
                                                )}
                                            </div>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>

                        <div className="bg-green-50 border-l-4 border-green-500 p-6 mb-8">
                            <h3 className="font-bold text-green-900 mb-3">Reflection Questions:</h3>
                            <ul className="space-y-2 text-gray-700 text-sm">
                                <li>‚Ä¢ How did your chosen figure's SPTS shape what was visible in their PRS?</li>
                                <li>‚Ä¢ What Gates did they challenge or work within?</li>
                                <li>‚Ä¢ Did they build Constructors that persisted? Meta-Constructors for adaptation?</li>
                                <li>‚Ä¢ What would change if they had access to different SPTS or worked in different Gates?</li>
                            </ul>
                        </div>

                        <div className="flex space-x-4">
                            <button
                                onClick={() => {
                                    setSubmitted(false);
                                    setCurrentModel({
                                        name: '', era: '', region: '',
                                        IK: '', PRS_t: '', SPTS: ['', '', ''],
                                        AH: '', BROAPlus: '', Cap: '', Capab: '',
                                        Cons: '', MetaCons: '', Gates: ''
                                    });
                                }}
                                className="flex-1 px-6 py-3 bg-gray-300 hover:bg-gray-400 text-gray-900 rounded-lg font-semibold"
                            >
                                Model Another Person
                            </button>
                            <button
                                onClick={() => { onComplete(); onNext(); }}
                                className="flex-1 px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-semibold"
                            >
                                Continue to Synthesis ‚Üí
                            </button>
                        </div>
                    </div>
                );
            }

            return (
                <div className="bg-white rounded-lg shadow-lg p-8">
                    <h2 className="text-3xl font-bold text-gray-900 mb-4">Build Your Own Model</h2>
                    <p className="text-lg text-gray-700 mb-6">
                        Apply the FAIM-QIRF framework to model any ethical agent: a philosopher not in our database, 
                        a public figure, an organization, a family member, or even yourself.
                    </p>

                    <div className="bg-yellow-50 border-l-4 border-yellow-500 p-6 mb-8">
                        <h3 className="font-semibold text-yellow-900 mb-2">Tips for Building Models:</h3>
                        <ul className="space-y-1 text-gray-700 text-sm">
                            <li>‚Ä¢ Focus on specific standpoints (SPTS) - don't generalize</li>
                            <li>‚Ä¢ Be concrete about what's visible (PRS) from those positions</li>
                            <li>‚Ä¢ Identify actual gates (G), not just "bias"</li>
                            <li>‚Ä¢ Distinguish capacity from capability from constructor</li>
                            <li>‚Ä¢ Think about whether meta-constructors exist for learning</li>
                        </ul>
                    </div>

                    <div className="space-y-6">
                        {/* Basic Info */}
                        <div className="bg-gray-50 p-6 rounded-lg">
                            <h3 className="font-bold text-gray-900 mb-4">Basic Information</h3>
                            <div className="space-y-4">
                                <div>
                                    <label className="block text-sm font-medium text-gray-700 mb-2">
                                        Name *
                                    </label>
                                    <input
                                        type="text"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                        placeholder="e.g., Martin Luther King Jr., Your teacher, Yourself"
                                        value={currentModel.name}
                                        onChange={(e) => setCurrentModel({...currentModel, name: e.target.value})}
                                    />
                                </div>
                                <div className="grid md:grid-cols-2 gap-4">
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">
                                            Era/Period
                                        </label>
                                        <input
                                            type="text"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                            placeholder="e.g., 1960s Civil Rights, Contemporary"
                                            value={currentModel.era}
                                            onChange={(e) => setCurrentModel({...currentModel, era: e.target.value})}
                                        />
                                    </div>
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">
                                            Region/Context
                                        </label>
                                        <input
                                            type="text"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                            placeholder="e.g., US South, Your campus"
                                            value={currentModel.region}
                                            onChange={(e) => setCurrentModel({...currentModel, region: e.target.value})}
                                        />
                                    </div>
                                </div>
                            </div>
                        </div>

                        {/* Core Model Components */}
                        <div className="space-y-4">
                            <div className="bg-blue-50 p-6 rounded-lg">
                                <div className="flex items-center mb-3">
                                    <span className="bg-purple-200 text-purple-900 font-mono font-bold px-3 py-1 rounded text-xs mr-3">IK</span>
                                    <label className="font-bold text-gray-900">Identity Kernel *</label>
                                </div>
                                <p className="text-xs text-gray-600 mb-2">Core non-negotiable commitments and values</p>
                                <textarea
                                    className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                    rows="3"
                                    placeholder='e.g., "Injustice anywhere is a threat to justice everywhere"'
                                    value={currentModel.IK}
                                    onChange={(e) => setCurrentModel({...currentModel, IK: e.target.value})}
                                />
                            </div>

                            <div className="bg-blue-50 p-6 rounded-lg">
                                <div className="flex items-center mb-3">
                                    <span className="bg-purple-200 text-purple-900 font-mono font-bold px-3 py-1 rounded text-xs mr-3">PRS_t</span>
                                    <label className="font-bold text-gray-900">Phenomenal Reference Space *</label>
                                </div>
                                <p className="text-xs text-gray-600 mb-2">What's visible/legible to this agent - what patterns do they see?</p>
                                <textarea
                                    className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                    rows="3"
                                    placeholder="e.g., Sees systematic racial oppression as interconnected with economic injustice"
                                    value={currentModel.PRS_t}
                                    onChange={(e) => setCurrentModel({...currentModel, PRS_t: e.target.value})}
                                />
                            </div>

                            <div className="bg-blue-50 p-6 rounded-lg">
                                <div className="flex items-center mb-3">
                                    <span className="bg-purple-200 text-purple-900 font-mono font-bold px-3 py-1 rounded text-xs mr-3">SPTS</span>
                                    <label className="font-bold text-gray-900">Standpoint Set *</label>
                                </div>
                                <p className="text-xs text-gray-600 mb-2">Situated perspectives this person occupies (at least one required)</p>
                                <div className="space-y-2">
                                    {[0, 1, 2].map(i => (
                                        <input
                                            key={i}
                                            type="text"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                            placeholder={i === 0 ? "e.g., Black American" : i === 1 ? "e.g., Baptist minister" : "e.g., Protest leader"}
                                            value={currentModel.SPTS[i]}
                                            onChange={(e) => handleSPTSChange(i, e.target.value)}
                                        />
                                    ))}
                                </div>
                            </div>

                            <div className="bg-blue-50 p-6 rounded-lg">
                                <div className="flex items-center mb-3">
                                    <span className="bg-purple-200 text-purple-900 font-mono font-bold px-3 py-1 rounded text-xs mr-3">AH</span>
                                    <label className="font-bold text-gray-900">Assembly History *</label>
                                </div>
                                <p className="text-xs text-gray-600 mb-2">How past experiences shaped current perspective</p>
                                <textarea
                                    className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                    rows="3"
                                    placeholder="e.g., Grew up in segregated South; experienced violence; studied Gandhi; led Montgomery boycott"
                                    value={currentModel.AH}
                                    onChange={(e) => setCurrentModel({...currentModel, AH: e.target.value})}
                                />
                            </div>

                            <div className="bg-green-50 p-6 rounded-lg">
                                <div className="flex items-center mb-3">
                                    <span className="bg-purple-200 text-purple-900 font-mono font-bold px-3 py-1 rounded text-xs mr-3">BROA+</span>
                                    <label className="font-bold text-gray-900">BROA+ Filters</label>
                                </div>
                                <p className="text-xs text-gray-600 mb-2">Beliefs, rules, ontology, authenticity that shape interpretation</p>
                                <textarea
                                    className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                    rows="3"
                                    placeholder="e.g., Christian theology + Gandhian non-violence + American democratic ideals"
                                    value={currentModel.BROAPlus}
                                    onChange={(e) => setCurrentModel({...currentModel, BROAPlus: e.target.value})}
                                />
                            </div>

                            <div className="grid md:grid-cols-2 gap-4">
                                <div className="bg-green-50 p-6 rounded-lg">
                                    <div className="flex items-center mb-3">
                                        <span className="bg-purple-200 text-purple-900 font-mono font-bold px-3 py-1 rounded text-xs mr-3">Cap</span>
                                        <label className="font-bold text-gray-900">Capacities</label>
                                    </div>
                                    <p className="text-xs text-gray-600 mb-2">Latent abilities present but not yet reliably expressed</p>
                                    <textarea
                                        className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                        rows="3"
                                        placeholder="e.g., Communities have capacity for organized resistance"
                                        value={currentModel.Cap}
                                        onChange={(e) => setCurrentModel({...currentModel, Cap: e.target.value})}
                                    />
                                </div>

                                <div className="bg-green-50 p-6 rounded-lg">
                                    <div className="flex items-center mb-3">
                                        <span className="bg-purple-200 text-purple-900 font-mono font-bold px-3 py-1 rounded text-xs mr-3">Capab</span>
                                        <label className="font-bold text-gray-900">Capabilities *</label>
                                    </div>
                                    <p className="text-xs text-gray-600 mb-2">Reliable methods that work consistently</p>
                                    <textarea
                                        className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                        rows="3"
                                        placeholder="e.g., Non-violent resistance; mass organizing; rhetorical persuasion"
                                        value={currentModel.Capab}
                                        onChange={(e) => setCurrentModel({...currentModel, Capab: e.target.value})}
                                    />
                                </div>
                            </div>

                            <div className="bg-purple-50 p-6 rounded-lg">
                                <div className="flex items-center mb-3">
                                    <span className="bg-purple-200 text-purple-900 font-mono font-bold px-3 py-1 rounded text-xs mr-3">Cons</span>
                                    <label className="font-bold text-gray-900">Constructors *</label>
                                </div>
                                <p className="text-xs text-gray-600 mb-2">Repeatable procedures that persist beyond individual</p>
                                <textarea
                                    className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                    rows="3"
                                    placeholder="e.g., SCLC organization; protest methodology; coalition-building practices"
                                    value={currentModel.Cons}
                                    onChange={(e) => setCurrentModel({...currentModel, Cons: e.target.value})}
                                />
                            </div>

                            <div className="bg-purple-50 p-6 rounded-lg">
                                <div className="flex items-center mb-3">
                                    <span className="bg-purple-200 text-purple-900 font-mono font-bold px-3 py-1 rounded text-xs mr-3">MetaCons</span>
                                    <label className="font-bold text-gray-900">Meta-Constructors</label>
                                </div>
                                <p className="text-xs text-gray-600 mb-2">Review/repair/update loops that allow learning</p>
                                <textarea
                                    className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                    rows="3"
                                    placeholder="e.g., Movement adapted tactics based on outcomes; learned from failures; evolved strategy"
                                    value={currentModel.MetaCons}
                                    onChange={(e) => setCurrentModel({...currentModel, MetaCons: e.target.value})}
                                />
                            </div>

                            <div className="bg-red-50 p-6 rounded-lg">
                                <div className="flex items-center mb-3">
                                    <span className="bg-purple-200 text-purple-900 font-mono font-bold px-3 py-1 rounded text-xs mr-3">G</span>
                                    <label className="font-bold text-gray-900">Gates</label>
                                </div>
                                <p className="text-xs text-gray-600 mb-2">What counted as valid evidence, voice, or standing - what gates did they challenge or work within?</p>
                                <textarea
                                    className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                    rows="3"
                                    placeholder="e.g., Challenged: 'political participation = white men only'; Worked within: moral authority of religious tradition"
                                    value={currentModel.Gates}
                                    onChange={(e) => setCurrentModel({...currentModel, Gates: e.target.value})}
                                />
                            </div>
                        </div>
                    </div>

                    <div className="mt-8">
                        {!isComplete() && (
                            <div className="bg-yellow-50 border-l-4 border-yellow-500 p-4 mb-4">
                                <p className="text-sm text-yellow-900">
                                    <strong>Required fields:</strong> Name, IK, PRS_t, at least one SPTS, AH, Capab, and Cons must be filled.
                                </p>
                            </div>
                        )}
                        <button
                            onClick={handleSubmit}
                            disabled={!isComplete()}
                            className={`w-full px-6 py-3 rounded-lg font-semibold transition-colors ${
                                isComplete()
                                    ? 'bg-purple-600 hover:bg-purple-700 text-white'
                                    : 'bg-gray-300 text-gray-500 cursor-not-allowed'
                            }`}
                        >
                            {isComplete() ? 'Submit Model ‚Üí' : 'Complete Required Fields to Submit'}
                        </button>
                    </div>
                </div>
            );
        }

        function SynthesisSection({ studentInfo, sessionData, sectionProgress, studentModels, onComplete }) {
            const [reflections, setReflections] = useState({
                patterns: '',
                osInsight: '',
                application: ''
            });
            const [showCertificate, setShowCertificate] = useState(false);

            const calculateTimeSpent = () => {
                return Object.values(sectionProgress).reduce((total, section) => {
                    if (section.startTime && section.endTime) {
                        const start = new Date(section.startTime);
                        const end = new Date(section.endTime);
                        return total + Math.round((end - start) / 60000);
                    }
                    return total;
                }, 0);
            };

            const generateCertificate = () => {
                const timeSpent = calculateTimeSpent();
                const modelsCreated = Object.keys(studentModels).length;
                
                return `‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
MODULE 3: PHILOSOPHER MODELING STUDIO
Completion Certificate
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

STUDENT INFORMATION:
  Name:           ${studentInfo.name}
  Email:          ${studentInfo.email}
  Course:         ${studentInfo.course}

SESSION DETAILS:
  Session ID:     ${sessionData.sessionId}
  Started:        ${new Date(sessionData.startTime).toLocaleString()}
  Completed:      ${new Date().toLocaleString()}
  Time Invested:  ${timeSpent} minutes

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
MODULE COMPLETION SUMMARY
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

‚úì OS1/OS2 Framework Understanding
  Completed analysis of two complementary capacities:
  - OS1: Phenomenological engagement (traditional ethics skills)
  - OS2: Meta-constructor capacity (modeling how ethics works)
  
  Addressed Sapolsky Challenge: Understanding how meta-constructor
  capacity creates genuine degrees of freedom within physical
  determinism.

‚úì FAIM-QIRF Notation Mastery
  Learned formal notation for modeling ethical agents:
  - Agent structure: IK, PRS_t, SPTS, AH, BROA+, Cap, Capab
  - World structure: Ctx_t, Cons, MetaCons, G
  - Intervention points and system design

‚úì Philosopher Exemplars Studied
  Analyzed diverse thinkers across traditions:
  - Socrates (Ancient Greece)
  - Aristotle (Ancient Greece)
  - Wangari Maathai (Kenya/Africa)
  - Nelson Mandela (South Africa/Africa)
  - Leanne Betasamosake Simpson (Michi Saagiig Nishnaabeg)
  - Patricia Hill Collins (United States)

‚úì Comparative Analysis Conducted
  Systematically compared how different SPTS reveal different
  aspects of ethical reality. Understood that differences are
  data, not defects‚Äîmultiple perspectives improve knowledge.

‚úì Student Models Created: ${modelsCreated}
  Applied FAIM-QIRF notation to build original models,
  demonstrating capacity to analyze any ethical agent.

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
KEY LEARNING OUTCOMES ACHIEVED
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

1. FORMAL MODELING CAPACITY
   Can model any ethical agent using FAIM-QIRF notation:
   - Identity Kernel (IK) - core commitments
   - Phenomenal Reference Space (PRS_t) - what's visible
   - Standpoint Set (SPTS) - situated perspectives
   - Assembly History (AH) - how past shapes present
   - Capabilities vs Capacities - reliable vs latent
   - Constructors vs Meta-Constructors - persistence vs learning

2. STANDPOINT EPISTEMOLOGY
   Understands how situated perspectives reveal reality:
   - Different SPTS make different patterns visible
   - No single standpoint is complete
   - Multiple perspectives improve truth-tracking
   - This is "strong objectivity," not relativism

3. GATE RECOGNITION
   Can identify institutional filters (G) that determine:
   - What counts as valid knowledge
   - Whose voice has standing
   - What evidence is accepted
   - How knowledge is produced

4. META-CONSTRUCTOR DESIGN
   Knows how to build systems that learn:
   - Review/repair/update loops
   - Systematic inclusion of diverse SPTS
   - Adaptation mechanisms
   - This creates space for agency despite determinism

5. PHILOSOPHICAL PATTERN RECOGNITION
   Sees philosophy's evolution as:
   - Progressive expansion of included SPTS
   - Gradual challenging of exclusionary gates
   - Building more adaptive meta-constructors
   - Not "progress toward truth" but "widening what's legible"

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
STUDENT REFLECTIONS
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

${reflections.patterns ? `PATTERNS OBSERVED:
${reflections.patterns}

` : ''}${reflections.osInsight ? `OS1/OS2 INSIGHT:
${reflections.osInsight}

` : ''}${reflections.application ? `PRACTICAL APPLICATION:
${reflections.application}

` : ''}
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
WHAT THIS MODULE ADDS TO TRADITIONAL ETHICS
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

Traditional ethics courses (OS1) teach essential skills:
‚Ä¢ Rigorous argumentation
‚Ä¢ Concept analysis
‚Ä¢ Framework application (deontology, consequentialism, virtue)
‚Ä¢ Critical thinking about moral claims

This module (OS2) adds complementary capacity:
‚Ä¢ Formal modeling of how standpoints shape reasoning
‚Ä¢ Recognition of gates that exclude knowledge
‚Ä¢ Design of meta-constructors for systematic inclusion
‚Ä¢ Understanding of how self-modeling creates agency

Together: OS1 provides rigor in ethical reasoning;
         OS2 provides awareness of whose reasoning and how

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
THE SAPOLSKY RESOLUTION
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

Robert Sapolsky's determinism challenge: If we're fully
determined by physics + past, ethical reasoning is illusory.

The meta-constructor response: When agents build models of
themselves that they use to guide themselves, this creates
genuine degrees of freedom. Not libertarian free will, but
real options at t+1 that depend on how we model ourselves at t.

The representation (model) becomes part of the causal chain.
Self-modeling itself has causal power. This is OS2's insight:
the capacity to create models that matter causally.

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
APPLICATIONS BEYOND THIS COURSE
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

The FAIM-QIRF modeling capacity applies to:

‚Ä¢ Policy Analysis: Whose SPTS shaped this policy? What gates
  excluded other perspectives? How can we build meta-constructors
  for adaptation?

‚Ä¢ Institutional Design: What constructors persist? Do they have
  meta-constructors for learning? Whose voices are systematically
  excluded by current gates?

‚Ä¢ Conflict Resolution: Map all stakeholders as agents with
  different SPTS. What does each see that others don't? How can
  constructors include multiple perspectives?

‚Ä¢ Scientific Research: What do different methodologies' gates
  include/exclude? How do different disciplinary SPTS reveal
  different aspects of phenomena?

‚Ä¢ Business Ethics: Whose PRS is visible in decision-making?
  What gates determine stakeholder standing? Are there
  meta-constructors for ethical improvement?

‚Ä¢ Personal Development: How does your SPTS shape what you see?
  What gates limit your knowledge? How can you build
  meta-constructors for your own learning?

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
NEXT STEPS IN YOUR ETHICAL EDUCATION
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

You've developed OS2 capacity. Continue building by:

1. Applying FAIM-QIRF to every philosophical text you read
   - Model the author as agent
   - Identify their SPTS and what it makes visible
   - Notice their gates and constructors
   - Ask: what meta-constructors do they propose?

2. Practice comparative modeling
   - Take any ethical disagreement
   - Model both sides as agents with different SPTS
   - Identify what each sees that the other doesn't
   - Design constructors that include both perspectives

3. Build meta-constructors in your own life
   - Where do you need review/repair/update loops?
   - How can you systematically include perspectives unlike yours?
   - What would adaptation mechanisms look like?

4. Teach others this framework
   - The best way to deepen OS2 capacity
   - Helps others see patterns they couldn't see before
   - Spreads the capacity for designing better systems

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
VERIFICATION & AUTHENTICITY
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

This certificate verifies that ${studentInfo.name} has:

‚Ä¢ Completed all 7 sections of Module 3
‚Ä¢ Studied 6 diverse philosophical exemplars
‚Ä¢ Conducted comparative analysis using FAIM-QIRF notation
‚Ä¢ Created ${modelsCreated} original model(s) of ethical agents
‚Ä¢ Invested ${timeSpent} minutes in systematic learning
‚Ä¢ Demonstrated understanding of OS1/OS2 distinction
‚Ä¢ Achieved capacity for meta-constructor design

Session ID: ${sessionData.sessionId}
Generated: ${new Date().toLocaleString()}

For Instructor Verification:
  Student completed interactive tutorial on FAIM-QIRF notation
  Student studied all pre-loaded philosopher exemplars
  Student conducted side-by-side comparison of philosophers
  Student created formal model(s) demonstrating notation mastery
  Student provided reflections on patterns and applications

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
CONCLUDING INSIGHT
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

"Philosophy isn't a museum of dead ideas‚Äîit's a living
record of how humans from different standpoints have tried
to make ethical reality legible.

The capacity you've developed‚Äîto model how different SPTS
reveal different truths, to recognize gates, to design
meta-constructors‚Äîis the capacity to participate in
expanding whose knowledge counts.

This is how we move from 'ethics as rules' to 'ethics as
system design for just knowledge production.'

And this system-design capacity itself creates the space
for genuine agency that determinism seems to eliminate."

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

Congratulations on completing Module 3!
You've added a powerful analytical framework to your
ethical toolkit.

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê`;
            };

            const downloadCertificate = () => {
                const cert = generateCertificate();
                const blob = new Blob([cert], { type: 'text/plain' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `Module3_Certificate_${studentInfo.name.replace(/\s+/g, '_')}.txt`;
                a.click();
            };

            const copyToClipboard = () => {
                const cert = generateCertificate();
                navigator.clipboard.writeText(cert);
                alert('Certificate copied to clipboard!');
            };

            const allReflectionsComplete = Object.values(reflections).every(r => r.length >= 100);

            if (showCertificate) {
                return (
                    <div className="bg-white rounded-lg shadow-lg p-8">
                        <div className="text-center mb-8">
                            <div className="text-6xl mb-4">üéì</div>
                            <h2 className="text-4xl font-bold text-gray-900 mb-4">Module 3 Complete!</h2>
                            <p className="text-xl text-gray-700">
                                You've mastered formal modeling of ethical agents using FAIM-QIRF notation.
                            </p>
                        </div>

                        <div className="grid md:grid-cols-3 gap-4 mb-8">
                            <div className="bg-purple-50 p-6 rounded-lg text-center">
                                <div className="text-3xl font-bold text-purple-900">{calculateTimeSpent()}</div>
                                <div className="text-sm text-gray-600">Minutes Invested</div>
                            </div>
                            <div className="bg-blue-50 p-6 rounded-lg text-center">
                                <div className="text-3xl font-bold text-blue-900">6</div>
                                <div className="text-sm text-gray-600">Philosophers Studied</div>
                            </div>
                            <div className="bg-green-50 p-6 rounded-lg text-center">
                                <div className="text-3xl font-bold text-green-900">{Object.keys(studentModels).length}</div>
                                <div className="text-sm text-gray-600">Models Created</div>
                            </div>
                        </div>

                        <div className="bg-gradient-to-br from-purple-100 to-blue-100 border-2 border-purple-300 p-6 rounded-lg mb-8">
                            <h3 className="text-xl font-bold text-purple-900 mb-3">Key Achievement</h3>
                            <p className="text-gray-700">
                                You've developed <strong>OS2 capacity</strong>‚Äîthe ability to model how different 
                                standpoints shape ethical reasoning. This complements traditional ethics training (OS1) 
                                by adding meta-level awareness of whose voices are heard, what gates exclude knowledge, 
                                and how to design systems that systematically include diverse perspectives.
                            </p>
                        </div>

                        <div className="bg-yellow-50 border-l-4 border-yellow-500 p-6 mb-8">
                            <h3 className="text-lg font-semibold text-yellow-900 mb-2">The Sapolsky Resolution</h3>
                            <p className="text-sm text-gray-700">
                                You've learned how meta-constructor capacity resolves the determinism challenge: 
                                when agents build models of themselves that guide their actions, this creates genuine 
                                degrees of freedom. The self-model becomes part of the causal chain, creating space 
                                for agency within physical reality.
                            </p>
                        </div>

                        <div className="space-y-3">
                            <button
                                onClick={downloadCertificate}
                                className="w-full bg-purple-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-purple-700 transition-colors flex items-center justify-center"
                            >
                                <span className="mr-2">üìÑ</span> Download Completion Certificate
                            </button>
                            <button
                                onClick={copyToClipboard}
                                className="w-full bg-gray-200 text-gray-700 py-3 px-6 rounded-lg font-semibold hover:bg-gray-300 transition-colors flex items-center justify-center"
                            >
                                <span className="mr-2">üìã</span> Copy to Clipboard
                            </button>
                        </div>

                        <div className="mt-8 bg-green-50 border-l-4 border-green-500 p-6">
                            <h3 className="font-semibold text-green-900 mb-2">Next Steps</h3>
                            <ul className="space-y-2 text-gray-700 text-sm">
                                <li>‚Ä¢ Apply FAIM-QIRF modeling to every philosophy text you read</li>
                                <li>‚Ä¢ Practice comparative analysis on ethical disagreements</li>
                                <li>‚Ä¢ Design meta-constructors for institutions you're part of</li>
                                <li>‚Ä¢ Teach this framework to others‚Äîit deepens your own mastery</li>
                            </ul>
                        </div>
                    </div>
                );
            }

            return (
                <div className="bg-white rounded-lg shadow-lg p-8">
                    <h2 className="text-3xl font-bold text-gray-900 mb-4">Synthesis & Reflection</h2>
                    <p className="text-lg text-gray-700 mb-6">
                        Before completing Module 3, reflect on what you've learned and how you'll apply it.
                    </p>

                    <div className="space-y-6 mb-8">
                        <div className="bg-gradient-to-br from-blue-50 to-purple-50 border-2 border-purple-200 p-6 rounded-lg">
                            <h3 className="text-xl font-bold text-purple-900 mb-4">Your Journey Through Module 3</h3>
                            <div className="space-y-3 text-gray-700">
                                <div className="flex items-center">
                                    <span className="text-green-500 text-2xl mr-3">‚úì</span>
                                    <span>Learned OS1/OS2 distinction and meta-constructor capacity</span>
                                </div>
                                <div className="flex items-center">
                                    <span className="text-green-500 text-2xl mr-3">‚úì</span>
                                    <span>Mastered FAIM-QIRF notation for modeling ethical agents</span>
                                </div>
                                <div className="flex items-center">
                                    <span className="text-green-500 text-2xl mr-3">‚úì</span>
                                    <span>Studied 6 diverse philosophers across global traditions</span>
                                </div>
                                <div className="flex items-center">
                                    <span className="text-green-500 text-2xl mr-3">‚úì</span>
                                    <span>Conducted comparative analysis of different standpoints</span>
                                </div>
                                <div className="flex items-center">
                                    <span className="text-green-500 text-2xl mr-3">‚úì</span>
                                    <span>Created {Object.keys(studentModels).length} original model(s)</span>
                                </div>
                            </div>
                        </div>

                        {/* Reflection Questions */}
                        <div className="space-y-6">
                            <div className="bg-blue-50 p-6 rounded-lg">
                                <h4 className="font-bold text-blue-900 mb-3">
                                    1. Patterns Across Philosophers (100+ words)
                                </h4>
                                <p className="text-sm text-gray-600 mb-3">
                                    What patterns did you notice across the different philosophers you studied? 
                                    How did different SPTS shape what was visible in their PRS? What about gates and constructors?
                                </p>
                                <textarea
                                    className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                    rows="6"
                                    placeholder="Reflect on patterns you observed..."
                                    value={reflections.patterns}
                                    onChange={(e) => setReflections({...reflections, patterns: e.target.value})}
                                />
                                <p className="text-xs text-gray-500 mt-2">
                                    {reflections.patterns.split(/\s+/).filter(w => w.length > 0).length} words
                                </p>
                            </div>

                            <div className="bg-purple-50 p-6 rounded-lg">
                                <h4 className="font-bold text-purple-900 mb-3">
                                    2. OS1/OS2 Insight (100+ words)
                                </h4>
                                <p className="text-sm text-gray-600 mb-3">
                                    How does adding OS2 (meta-constructor capacity) complement traditional ethics (OS1)? 
                                    What can you see now that you couldn't see before? How does this address Sapolsky's determinism challenge?
                                </p>
                                <textarea
                                    className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                    rows="6"
                                    placeholder="Reflect on what OS2 adds..."
                                    value={reflections.osInsight}
                                    onChange={(e) => setReflections({...reflections, osInsight: e.target.value})}
                                />
                                <p className="text-xs text-gray-500 mt-2">
                                    {reflections.osInsight.split(/\s+/).filter(w => w.length > 0).length} words
                                </p>
                            </div>

                            <div className="bg-green-50 p-6 rounded-lg">
                                <h4 className="font-bold text-green-900 mb-3">
                                    3. Practical Application (100+ words)
                                </h4>
                                <p className="text-sm text-gray-600 mb-3">
                                    How will you apply FAIM-QIRF modeling in your life? Choose a specific situation 
                                    (a policy debate, an institutional practice, a personal dilemma) and sketch how you'd model it.
                                </p>
                                <textarea
                                    className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                    rows="6"
                                    placeholder="Describe how you'll apply this framework..."
                                    value={reflections.application}
                                    onChange={(e) => setReflections({...reflections, application: e.target.value})}
                                />
                                <p className="text-xs text-gray-500 mt-2">
                                    {reflections.application.split(/\s+/).filter(w => w.length > 0).length} words
                                </p>
                            </div>
                        </div>
                    </div>

                    {allReflectionsComplete ? (
                        <button
                            onClick={() => {
                                onComplete();
                                setShowCertificate(true);
                            }}
                            className="w-full px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-semibold transition-colors"
                        >
                            Complete Module & Generate Certificate ‚Üí
                        </button>
                    ) : (
                        <div className="bg-yellow-50 border-l-4 border-yellow-500 p-4">
                            <p className="text-sm text-yellow-900">
                                Complete all three reflections (100+ words each) to generate your completion certificate.
                            </p>
                        </div>
                    )}
                </div>
            );
        }

        // Render
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
